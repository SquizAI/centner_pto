(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5774],{3998:(e,t,s)=>{"use strict";s.d(t,{$:()=>c,r:()=>d});var a=s(95155),r=s(12115),i=s(32467),l=s(83101),n=s(64269);let d=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:s,variant:r,size:l,asChild:c=!1,...o}=e,u=c?i.DX:"button";return(0,a.jsx)(u,{className:(0,n.cn)(d({variant:r,size:l,className:s})),ref:t,...o})});c.displayName="Button"},10489:(e,t,s)=>{"use strict";s.d(t,{b:()=>n});var a=s(12115),r=s(97602),i=s(95155),l=a.forwardRef((e,t)=>(0,i.jsx)(r.sG.label,{...e,ref:t,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||(null==(s=e.onMouseDown)||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var n=l},11186:(e,t,s)=>{"use strict";s.d(t,{bq:()=>m,eb:()=>f,gC:()=>x,l6:()=>o,yv:()=>u});var a=s(95155),r=s(12115),i=s(55644),l=s(24033),n=s(12108),d=s(5917),c=s(64269);let o=i.bL;i.YJ;let u=i.WT,m=r.forwardRef((e,t)=>{let{className:s,children:r,...n}=e;return(0,a.jsxs)(i.l9,{ref:t,className:(0,c.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...n,children:[r,(0,a.jsx)(i.In,{asChild:!0,children:(0,a.jsx)(l.A,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=i.l9.displayName;let p=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.PP,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(n.A,{className:"h-4 w-4"})})});p.displayName=i.PP.displayName;let h=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.wn,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(l.A,{className:"h-4 w-4"})})});h.displayName=i.wn.displayName;let x=r.forwardRef((e,t)=>{let{className:s,children:r,position:l="popper",...n}=e;return(0,a.jsx)(i.ZL,{children:(0,a.jsxs)(i.UC,{ref:t,className:(0,c.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:l,...n,children:[(0,a.jsx)(p,{}),(0,a.jsx)(i.LM,{className:(0,c.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(h,{})]})})});x.displayName=i.UC.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.JU,{ref:t,className:(0,c.cn)("px-2 py-1.5 text-sm font-semibold",s),...r})}).displayName=i.JU.displayName;let f=r.forwardRef((e,t)=>{let{className:s,children:r,...l}=e;return(0,a.jsxs)(i.q7,{ref:t,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...l,children:[(0,a.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(i.VF,{children:(0,a.jsx)(d.A,{className:"h-4 w-4"})})}),(0,a.jsx)(i.p4,{children:r})]})});f.displayName=i.q7.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.wv,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=i.wv.displayName},17666:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]])},20063:(e,t,s)=>{"use strict";var a=s(47260);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},21873:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},23327:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},27599:(e,t,s)=>{"use strict";s.d(t,{bL:()=>N,zi:()=>w});var a=s(12115),r=s(92556),i=s(94446),l=s(3468),n=s(23558),d=s(78108),c=s(84288),o=s(97602),u=s(95155),m="Switch",[p,h]=(0,l.A)(m),[x,f]=p(m),v=a.forwardRef((e,t)=>{let{__scopeSwitch:s,name:l,checked:d,defaultChecked:c,required:p,disabled:h,value:f="on",onCheckedChange:v,form:g,...j}=e,[N,w]=a.useState(null),_=(0,i.s)(t,e=>w(e)),k=a.useRef(!1),C=!N||g||!!N.closest("form"),[A,I]=(0,n.i)({prop:d,defaultProp:null!=c&&c,onChange:v,caller:m});return(0,u.jsxs)(x,{scope:s,checked:A,disabled:h,children:[(0,u.jsx)(o.sG.button,{type:"button",role:"switch","aria-checked":A,"aria-required":p,"data-state":b(A),"data-disabled":h?"":void 0,disabled:h,value:f,...j,ref:_,onClick:(0,r.mK)(e.onClick,e=>{I(e=>!e),C&&(k.current=e.isPropagationStopped(),k.current||e.stopPropagation())})}),C&&(0,u.jsx)(y,{control:N,bubbles:!k.current,name:l,value:f,checked:A,required:p,disabled:h,form:g,style:{transform:"translateX(-100%)"}})]})});v.displayName=m;var g="SwitchThumb",j=a.forwardRef((e,t)=>{let{__scopeSwitch:s,...a}=e,r=f(g,s);return(0,u.jsx)(o.sG.span,{"data-state":b(r.checked),"data-disabled":r.disabled?"":void 0,...a,ref:t})});j.displayName=g;var y=a.forwardRef((e,t)=>{let{__scopeSwitch:s,control:r,checked:l,bubbles:n=!0,...o}=e,m=a.useRef(null),p=(0,i.s)(m,t),h=(0,d.Z)(l),x=(0,c.X)(r);return a.useEffect(()=>{let e=m.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(h!==l&&t){let s=new Event("click",{bubbles:n});t.call(e,l),e.dispatchEvent(s)}},[h,l,n]),(0,u.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:l,...o,tabIndex:-1,ref:p,style:{...o.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function b(e){return e?"checked":"unchecked"}y.displayName="SwitchBubbleInput";var N=v,w=j},31120:(e,t,s)=>{"use strict";s.d(t,{T:()=>l});var a=s(95155),r=s(12115),i=s(64269);let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("textarea",{className:(0,i.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...r})});l.displayName="Textarea"},35525:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>_});var a=s(95155),r=s(12115),i=s(20063),l=s(96648),n=s(3998),d=s(65142),c=s(76444),o=s(31120),u=s(86948),m=s(11186),p=s(44846),h=s(18720),x=s(35626),f=s(16485),v=s(21873),g=s(91169),j=s(82063),y=s(57249),b=s(15239),N=s(52619),w=s.n(N);function _(){(0,i.useRouter)();let e=(0,l.U)(),[t,s]=(0,r.useState)(!1),[N,_]=(0,r.useState)([]),[k,C]=(0,r.useState)(null),[A,I]=(0,r.useState)(!1),[S,q]=(0,r.useState)({title:"",description:"",event_date:"",end_date:"",location:"",campus:"all",image_url:"",max_attendees:"",rsvp_required:!0,status:"draft",ticket_enabled:!1,ticket_price:"",ticket_quantity:"",ticket_sales_start:"",ticket_sales_end:"",requires_approval:!1});(0,r.useEffect)(()=>{R()},[]);let R=async()=>{try{let{data:t,error:s}=await e.from("events").select("*").order("event_date",{ascending:!1});if(s)throw s;_(t||[])}catch(e){console.error("Error loading events:",e),h.o.error("Failed to load events")}},E=(e,t)=>{q(s=>({...s,[e]:t}))},M=async t=>{t.preventDefault(),s(!0);try{let{data:{user:t},error:s}=await e.auth.getUser();if(s||!t)return void h.o.error("You must be logged in to create events");let a={title:S.title,description:S.description||null,event_date:S.event_date,end_date:S.end_date||null,location:S.location||null,campus:S.campus,image_url:S.image_url||null,max_attendees:S.max_attendees?parseInt(S.max_attendees):null,rsvp_required:S.rsvp_required,status:S.status,ticket_enabled:S.ticket_enabled,ticket_price:S.ticket_price?parseFloat(S.ticket_price):null,ticket_quantity:S.ticket_quantity?parseInt(S.ticket_quantity):null,ticket_sales_start:S.ticket_sales_start||null,ticket_sales_end:S.ticket_sales_end||null,requires_approval:S.requires_approval,created_by:t.id};if(k){let{error:t}=await e.from("events").update(a).eq("id",k.id);if(t)throw t;h.o.success("Event updated successfully!")}else{let{error:t}=await e.from("events").insert([a]);if(t)throw t;h.o.success("Event created successfully!")}F(),R()}catch(e){console.error("Error saving event:",e),h.o.error(e instanceof Error?e.message:"Failed to save event")}finally{s(!1)}},T=async t=>{if(confirm("Are you sure you want to delete this event?"))try{let{error:s}=await e.from("events").delete().eq("id",t);if(s)throw s;h.o.success("Event deleted successfully"),R()}catch(e){console.error("Error deleting event:",e),h.o.error("Failed to delete event")}},F=()=>{C(null),q({title:"",description:"",event_date:"",end_date:"",location:"",campus:"all",image_url:"",max_attendees:"",rsvp_required:!0,status:"draft",ticket_enabled:!1,ticket_price:"",ticket_quantity:"",ticket_sales_start:"",ticket_sales_end:"",requires_approval:!1}),I(!1)};return A?(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[(0,a.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:k?"Edit Event":"Create New Event"}),(0,a.jsxs)(n.$,{variant:"outline",onClick:F,children:[(0,a.jsx)(x.A,{className:"w-4 h-4 mr-2"}),"Back to List"]})]}),(0,a.jsxs)("form",{onSubmit:M,className:"space-y-6",children:[(0,a.jsxs)(u.Zp,{children:[(0,a.jsxs)(u.aR,{children:[(0,a.jsx)(u.ZB,{children:"Basic Information"}),(0,a.jsx)(u.BT,{children:"Essential event details"})]}),(0,a.jsxs)(u.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{htmlFor:"title",children:"Event Title *"}),(0,a.jsx)(d.p,{id:"title",value:S.title,onChange:e=>E("title",e.target.value),placeholder:"e.g., Spring Festival",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{htmlFor:"description",children:"Description"}),(0,a.jsx)(o.T,{id:"description",value:S.description,onChange:e=>E("description",e.target.value),placeholder:"Describe your event...",rows:4})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{htmlFor:"campus",children:"Campus *"}),(0,a.jsxs)(m.l6,{value:S.campus,onValueChange:e=>E("campus",e),children:[(0,a.jsx)(m.bq,{children:(0,a.jsx)(m.yv,{})}),(0,a.jsxs)(m.gC,{children:[(0,a.jsx)(m.eb,{value:"all",children:"All Campuses"}),(0,a.jsx)(m.eb,{value:"preschool",children:"Preschool"}),(0,a.jsx)(m.eb,{value:"elementary",children:"Elementary"}),(0,a.jsx)(m.eb,{value:"middle-high",children:"Middle & High School"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{htmlFor:"status",children:"Status *"}),(0,a.jsxs)(m.l6,{value:S.status,onValueChange:e=>E("status",e),children:[(0,a.jsx)(m.bq,{children:(0,a.jsx)(m.yv,{})}),(0,a.jsxs)(m.gC,{children:[(0,a.jsx)(m.eb,{value:"draft",children:"Draft"}),(0,a.jsx)(m.eb,{value:"published",children:"Published"}),(0,a.jsx)(m.eb,{value:"cancelled",children:"Cancelled"})]})]})]})]})]})]}),(0,a.jsxs)(u.Zp,{children:[(0,a.jsx)(u.aR,{children:(0,a.jsxs)(u.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"w-5 h-5"}),"Date & Location"]})}),(0,a.jsxs)(u.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{htmlFor:"event_date",children:"Start Date & Time *"}),(0,a.jsx)(d.p,{id:"event_date",type:"datetime-local",value:S.event_date,onChange:e=>E("event_date",e.target.value),required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{htmlFor:"end_date",children:"End Date & Time"}),(0,a.jsx)(d.p,{id:"end_date",type:"datetime-local",value:S.end_date,onChange:e=>E("end_date",e.target.value)})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{htmlFor:"location",children:"Location"}),(0,a.jsx)(d.p,{id:"location",value:S.location,onChange:e=>E("location",e.target.value),placeholder:"e.g., School Gymnasium"})]})]})]}),(0,a.jsx)(y.A,{title:"Generate Event Image",description:"Use AI to create a custom image for this event",onImageGenerated:e=>{E("image_url",e),h.o.success("Image added to event!")},defaultPrompt:S.title?"".concat(S.title," event with ").concat({preschool:"young children and preschoolers",elementary:"elementary school students","middle-high":"middle and high school students",all:"diverse group of students and families"}[S.campus],", ").concat(S.location||"school setting",", professional event photography style"):"",category:"event"}),S.image_url&&(0,a.jsxs)(u.Zp,{children:[(0,a.jsx)(u.aR,{children:(0,a.jsx)(u.ZB,{children:"Current Event Image"})}),(0,a.jsxs)(u.Wu,{children:[(0,a.jsx)("div",{className:"relative w-full aspect-video rounded-lg overflow-hidden",children:(0,a.jsx)(b.default,{src:S.image_url,alt:"Event image",fill:!0,className:"object-cover"})}),(0,a.jsx)(n.$,{type:"button",variant:"outline",className:"mt-4",onClick:()=>E("image_url",""),children:"Remove Image"})]})]}),(0,a.jsxs)(u.Zp,{children:[(0,a.jsx)(u.aR,{children:(0,a.jsxs)(u.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(g.A,{className:"w-5 h-5"}),"Attendance Settings"]})}),(0,a.jsxs)(u.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(c.J,{children:"RSVP Required"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Attendees must RSVP to attend this event"})]}),(0,a.jsx)(p.d,{checked:S.rsvp_required,onCheckedChange:e=>E("rsvp_required",e)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{htmlFor:"max_attendees",children:"Maximum Attendees"}),(0,a.jsx)(d.p,{id:"max_attendees",type:"number",value:S.max_attendees,onChange:e=>E("max_attendees",e.target.value),placeholder:"Leave empty for unlimited"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(c.J,{children:"Requires Approval"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"RSVPs must be approved by admin"})]}),(0,a.jsx)(p.d,{checked:S.requires_approval,onCheckedChange:e=>E("requires_approval",e)})]})]})]}),(0,a.jsxs)(u.Zp,{children:[(0,a.jsxs)(u.aR,{children:[(0,a.jsxs)(u.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(j.A,{className:"w-5 h-5"}),"Ticketing (Optional)"]}),(0,a.jsx)(u.BT,{children:"Enable paid tickets for this event"})]}),(0,a.jsxs)(u.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(c.J,{children:"Enable Ticket Sales"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Sell tickets through Stripe"})]}),(0,a.jsx)(p.d,{checked:S.ticket_enabled,onCheckedChange:e=>E("ticket_enabled",e)})]}),S.ticket_enabled&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{htmlFor:"ticket_price",children:"Ticket Price ($) *"}),(0,a.jsx)(d.p,{id:"ticket_price",type:"number",step:"0.01",value:S.ticket_price,onChange:e=>E("ticket_price",e.target.value),placeholder:"0.00",required:S.ticket_enabled})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{htmlFor:"ticket_quantity",children:"Total Tickets *"}),(0,a.jsx)(d.p,{id:"ticket_quantity",type:"number",value:S.ticket_quantity,onChange:e=>E("ticket_quantity",e.target.value),placeholder:"100",required:S.ticket_enabled})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{htmlFor:"ticket_sales_start",children:"Sales Start Date"}),(0,a.jsx)(d.p,{id:"ticket_sales_start",type:"datetime-local",value:S.ticket_sales_start,onChange:e=>E("ticket_sales_start",e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{htmlFor:"ticket_sales_end",children:"Sales End Date"}),(0,a.jsx)(d.p,{id:"ticket_sales_end",type:"datetime-local",value:S.ticket_sales_end,onChange:e=>E("ticket_sales_end",e.target.value)})]})]})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-4 justify-end",children:[(0,a.jsx)(n.$,{type:"button",variant:"outline",onClick:F,children:"Cancel"}),(0,a.jsx)(n.$,{type:"submit",disabled:t,children:t?"Saving...":k?"Update Event":"Create Event"})]})]})]}):(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Manage Events"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-1",children:"Create and manage school events"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(w(),{href:"/admin",children:(0,a.jsxs)(n.$,{variant:"outline",children:[(0,a.jsx)(x.A,{className:"w-4 h-4 mr-2"}),"Back to Admin"]})}),(0,a.jsx)(n.$,{onClick:()=>I(!0),children:"Create New Event"})]})]}),0===N.length?(0,a.jsx)(u.Zp,{children:(0,a.jsx)(u.Wu,{className:"py-8 text-center",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"No events yet. Create your first event!"})})}):(0,a.jsx)("div",{className:"grid gap-4",children:N.map(e=>(0,a.jsx)(u.Zp,{children:(0,a.jsx)(u.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex gap-4",children:[e.image_url&&(0,a.jsx)("div",{className:"relative w-32 h-32 rounded-lg overflow-hidden flex-shrink-0",children:(0,a.jsx)(b.default,{src:e.image_url,alt:e.title,fill:!0,className:"object-cover"})}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.description})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(n.$,{variant:"outline",size:"sm",onClick:()=>{var t,s,a;C(e),q({title:e.title,description:e.description||"",event_date:e.event_date.split("T")[0],end_date:e.end_date?e.end_date.split("T")[0]:"",location:e.location||"",campus:e.campus,image_url:e.image_url||"",max_attendees:(null==(t=e.max_attendees)?void 0:t.toString())||"",rsvp_required:e.rsvp_required,status:e.status,ticket_enabled:e.ticket_enabled,ticket_price:(null==(s=e.ticket_price)?void 0:s.toString())||"",ticket_quantity:(null==(a=e.ticket_quantity)?void 0:a.toString())||"",ticket_sales_start:e.ticket_sales_start?e.ticket_sales_start.split("T")[0]:"",ticket_sales_end:e.ticket_sales_end?e.ticket_sales_end.split("T")[0]:"",requires_approval:e.requires_approval}),I(!0)},children:"Edit"}),(0,a.jsx)(n.$,{variant:"destructive",size:"sm",onClick:()=>T(e.id),children:"Delete"})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(f.A,{className:"w-4 h-4"}),new Date(e.event_date).toLocaleDateString()]}),e.location&&(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(v.A,{className:"w-4 h-4"}),e.location]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(g.A,{className:"w-4 h-4"}),e.campus]}),e.ticket_enabled&&(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(j.A,{className:"w-4 h-4"}),"$",e.ticket_price," • ",e.tickets_sold,"/",e.ticket_quantity," sold"]})]}),(0,a.jsx)("div",{className:"flex gap-2",children:(0,a.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat("published"===e.status?"bg-green-100 text-green-700":"cancelled"===e.status?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"),children:e.status})})]})]})})},e.id))})]})}},35626:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},42196:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},44846:(e,t,s)=>{"use strict";s.d(t,{d:()=>n});var a=s(95155),r=s(12115),i=s(27599),l=s(64269);let n=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.bL,{className:(0,l.cn)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...r,ref:t,children:(0,a.jsx)(i.zi,{className:(0,l.cn)("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})})});n.displayName=i.bL.displayName},57249:(e,t,s)=>{"use strict";s.d(t,{A:()=>v});var a=s(95155),r=s(12115),i=s(3998),l=s(76444),n=s(31120),d=s(86948),c=s(95740),o=s(17666),u=s(23327),m=s(42196),p=s(35299),h=s(18720),x=s(15239);let f={event:{title:"Event Image Tips",tips:["Include the event type (party, meeting, fundraiser, sports)","Mention the setting (school, outdoor, gymnasium, auditorium)","Specify the mood (fun, energetic, celebratory, professional)","Add visual elements (balloons, decorations, people, activities)"],example:"Vibrant school fundraiser with colorful balloons, happy families, bake sale table, outdoor setting, sunny day, professional photography style"},news:{title:"News Article Tips",tips:["Focus on the story theme (achievement, announcement, community)","Include relevant imagery (students, teachers, school building)","Specify the tone (inspiring, informative, celebratory)","Add contextual elements that support the story"],example:"Inspiring school achievement photo, students celebrating, graduation caps in air, diverse group, joyful expressions, professional news style"},volunteer:{title:"Volunteer Opportunity Tips",tips:["Show the activity type (organizing, helping, teaching)","Include people working together (teamwork, collaboration)","Specify the environment (classroom, outdoor, event space)","Convey a helpful and welcoming atmosphere"],example:"Friendly volunteers organizing school event, diverse group working together, colorful materials, indoor classroom, warm lighting, professional photo"},general:{title:"Image Generation Tips",tips:["Be specific and descriptive","Mention colors, mood, and setting","Include what you want to see","Specify the style (photo, illustration, modern, vibrant)"],example:"Modern school community event, diverse families enjoying activities, colorful setting, professional photography style"}};function v(e){let{title:t,description:s,onImageGenerated:v,defaultPrompt:g="",category:j="general"}=e,[y,b]=(0,r.useState)(g),[N,w]=(0,r.useState)(null),[_,k]=(0,r.useState)(!1),[C,A]=(0,r.useState)(!1),I=f[j],S=async()=>{if(!y.trim())return void h.o.error("Please enter a prompt");k(!0);try{let e=await fetch("/api/generate-image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:y})}),t=await e.json();if(!e.ok)throw Error(t.error||"Failed to generate image");w(t.imageUrl),h.o.success("Image generated successfully!")}catch(e){console.error("Error generating image:",e),h.o.error(e instanceof Error?e.message:"Failed to generate image")}finally{k(!1)}};return(0,a.jsxs)(d.Zp,{className:"border-2 border-primary/20",children:[(0,a.jsx)(d.aR,{children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(d.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(c.A,{className:"w-5 h-5 text-primary"}),t]}),s&&(0,a.jsx)(d.BT,{className:"mt-1",children:s})]}),(0,a.jsxs)(i.$,{variant:"ghost",size:"sm",onClick:()=>A(!C),className:"text-muted-foreground",children:[(0,a.jsx)(o.A,{className:"w-4 h-4 mr-1"}),C?"Hide":"Show"," Tips"]})]})}),(0,a.jsxs)(d.Wu,{className:"space-y-4",children:[C&&(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 space-y-3",children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(u.A,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,a.jsx)("h4",{className:"font-semibold text-blue-900",children:I.title}),(0,a.jsx)("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:I.tips.map((e,t)=>(0,a.jsx)("li",{children:e},t))}),(0,a.jsx)("div",{className:"pt-2",children:(0,a.jsx)(i.$,{variant:"outline",size:"sm",onClick:()=>{b(I.example),h.o.success("Example prompt loaded!")},className:"text-xs border-blue-300 text-blue-700 hover:bg-blue-100",children:"Use Example Prompt"})})]})]})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(l.J,{htmlFor:"prompt",className:"flex items-center gap-2",children:["Image Description",(0,a.jsx)("span",{className:"text-xs text-muted-foreground font-normal",children:"(Be specific and descriptive)"})]}),(0,a.jsx)(n.T,{id:"prompt",value:y,onChange:e=>b(e.target.value),placeholder:"Describe the image you want to generate...",rows:4,className:"resize-none"})]}),N&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(l.J,{children:"Generated Image"}),(0,a.jsx)("div",{className:"relative w-full aspect-video rounded-lg overflow-hidden border-2 border-primary/20",children:(0,a.jsx)(x.default,{src:N,alt:"Generated image",fill:!0,className:"object-cover",sizes:"(max-width: 768px) 100vw, 600px"})}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(i.$,{onClick:()=>{N&&(v(N),h.o.success("Image added!"),w(null),b(""))},className:"flex-1",children:[(0,a.jsx)(m.A,{className:"w-4 h-4 mr-2"}),"Use This Image"]}),(0,a.jsx)(i.$,{variant:"outline",onClick:()=>w(null),children:"Discard"})]})]}),!N&&(0,a.jsx)(i.$,{onClick:S,disabled:_||!y.trim(),className:"w-full",size:"lg",children:_?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.A,{className:"w-4 h-4 mr-2"}),"Generate Image with AI"]})}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:"Powered by Google Gemini AI • Images generated are royalty-free"})]})]})}},64269:(e,t,s)=>{"use strict";s.d(t,{cn:()=>i});var a=s(2821),r=s(75889);function i(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}},65142:(e,t,s)=>{"use strict";s.d(t,{p:()=>l});var a=s(95155),r=s(12115),i=s(64269);let l=r.forwardRef((e,t)=>{let{className:s,type:r,...l}=e;return(0,a.jsx)("input",{type:r,className:(0,i.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...l})});l.displayName="Input"},76444:(e,t,s)=>{"use strict";s.d(t,{J:()=>c});var a=s(95155),r=s(12115),i=s(10489),l=s(83101),n=s(64269);let d=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.b,{ref:t,className:(0,n.cn)(d(),s),...r})});c.displayName=i.b.displayName},82063:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]])},86948:(e,t,s)=>{"use strict";s.d(t,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>l,aR:()=>n,wL:()=>u});var a=s(95155),r=s(12115),i=s(64269);let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("rounded-xl border bg-card text-card-foreground shadow",s),...r})});l.displayName="Card";let n=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",s),...r})});n.displayName="CardHeader";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("font-semibold leading-none tracking-tight",s),...r})});d.displayName="CardTitle";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",s),...r})});c.displayName="CardDescription";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",s),...r})});o.displayName="CardContent";let u=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",s),...r})});u.displayName="CardFooter"},91169:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},95740:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},96648:(e,t,s)=>{"use strict";s.d(t,{U:()=>r});var a=s(88727);function r(){return(0,a.createBrowserClient)("https://whtwuisrljgjtpzbyhfp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndodHd1aXNybGpnanRwemJ5aGZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA0NzgzMjAsImV4cCI6MjA3NjA1NDMyMH0.U_D-Zv0Qpev9_QIBRRRidzAGffpHVIpaIeGZhu_gKDw")}},97275:(e,t,s)=>{Promise.resolve().then(s.bind(s,35525))}},e=>{e.O(0,[4909,2619,5239,3529,8720,2659,9065,6825,8441,1255,7358],()=>e(e.s=97275)),_N_E=e.O()}]);