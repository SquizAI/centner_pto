(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4598],{3998:(e,t,r)=>{"use strict";r.d(t,{$:()=>o,r:()=>i});var a=r(95155),s=r(12115),n=r(32467),l=r(83101),d=r(64269);let i=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),o=s.forwardRef((e,t)=>{let{className:r,variant:s,size:l,asChild:o=!1,...c}=e,u=o?n.DX:"button";return(0,a.jsx)(u,{className:(0,d.cn)(i({variant:s,size:l,className:r})),ref:t,...c})});o.displayName="Button"},6191:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},6259:(e,t,r)=>{"use strict";r.d(t,{SQ:()=>m,_2:()=>f,lp:()=>p,mB:()=>x,rI:()=>c,ty:()=>u});var a=r(95155),s=r(12115),n=r(47971),l=r(27937),d=r(5917),i=r(99051),o=r(64269);let c=n.bL,u=n.l9;n.YJ,n.ZL,n.Pb,n.z6,s.forwardRef((e,t)=>{let{className:r,inset:s,children:d,...i}=e;return(0,a.jsxs)(n.ZP,{ref:t,className:(0,o.cn)("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",r),...i,children:[d,(0,a.jsx)(l.A,{className:"ml-auto"})]})}).displayName=n.ZP.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.G5,{ref:t,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",r),...s})}).displayName=n.G5.displayName;let m=s.forwardRef((e,t)=>{let{className:r,sideOffset:s=4,...l}=e;return(0,a.jsx)(n.ZL,{children:(0,a.jsx)(n.UC,{ref:t,sideOffset:s,className:(0,o.cn)("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",r),...l})})});m.displayName=n.UC.displayName;let f=s.forwardRef((e,t)=>{let{className:r,inset:s,...l}=e;return(0,a.jsx)(n.q7,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",s&&"pl-8",r),...l})});f.displayName=n.q7.displayName,s.forwardRef((e,t)=>{let{className:r,children:s,checked:l,...i}=e;return(0,a.jsxs)(n.H_,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),checked:l,...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(n.VF,{children:(0,a.jsx)(d.A,{className:"h-4 w-4"})})}),s]})}).displayName=n.H_.displayName,s.forwardRef((e,t)=>{let{className:r,children:s,...l}=e;return(0,a.jsxs)(n.hN,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...l,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(n.VF,{children:(0,a.jsx)(i.A,{className:"h-2 w-2 fill-current"})})}),s]})}).displayName=n.hN.displayName;let p=s.forwardRef((e,t)=>{let{className:r,inset:s,...l}=e;return(0,a.jsx)(n.JU,{ref:t,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",r),...l})});p.displayName=n.JU.displayName;let x=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.wv,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",r),...s})});x.displayName=n.wv.displayName},11186:(e,t,r)=>{"use strict";r.d(t,{bq:()=>m,eb:()=>h,gC:()=>x,l6:()=>c,yv:()=>u});var a=r(95155),s=r(12115),n=r(55644),l=r(24033),d=r(12108),i=r(5917),o=r(64269);let c=n.bL;n.YJ;let u=n.WT,m=s.forwardRef((e,t)=>{let{className:r,children:s,...d}=e;return(0,a.jsxs)(n.l9,{ref:t,className:(0,o.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...d,children:[s,(0,a.jsx)(n.In,{asChild:!0,children:(0,a.jsx)(l.A,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=n.l9.displayName;let f=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.PP,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",r),...s,children:(0,a.jsx)(d.A,{className:"h-4 w-4"})})});f.displayName=n.PP.displayName;let p=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.wn,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",r),...s,children:(0,a.jsx)(l.A,{className:"h-4 w-4"})})});p.displayName=n.wn.displayName;let x=s.forwardRef((e,t)=>{let{className:r,children:s,position:l="popper",...d}=e;return(0,a.jsx)(n.ZL,{children:(0,a.jsxs)(n.UC,{ref:t,className:(0,o.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:l,...d,children:[(0,a.jsx)(f,{}),(0,a.jsx)(n.LM,{className:(0,o.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,a.jsx)(p,{})]})})});x.displayName=n.UC.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.JU,{ref:t,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",r),...s})}).displayName=n.JU.displayName;let h=s.forwardRef((e,t)=>{let{className:r,children:s,...l}=e;return(0,a.jsxs)(n.q7,{ref:t,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...l,children:[(0,a.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(n.VF,{children:(0,a.jsx)(i.A,{className:"h-4 w-4"})})}),(0,a.jsx)(n.p4,{children:s})]})});h.displayName=n.q7.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.wv,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",r),...s})}).displayName=n.wv.displayName},11647:(e,t,r)=>{"use strict";r.d(t,{E:()=>d});var a=r(95155);r(12115);var s=r(83101),n=r(64269);let l=(0,s.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:t,variant:r,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)(l({variant:r}),t),...s})}},16485:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},42529:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},57828:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},64269:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(2821),s=r(75889);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},65142:(e,t,r)=>{"use strict";r.d(t,{p:()=>l});var a=r(95155),s=r(12115),n=r(64269);let l=s.forwardRef((e,t)=>{let{className:r,type:s,...l}=e;return(0,a.jsx)("input",{type:s,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...l})});l.displayName="Input"},75426:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},76684:(e,t,r)=>{"use strict";r.d(t,{AdminEventsClient:()=>z});var a=r(95155),s=r(12115),n=r(86948),l=r(11647),d=r(3998),i=r(65142),o=r(11186),c=r(6259),u=r(42529),m=r(71847);let f=(0,m.A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var p=r(78874),x=r(6191),h=r(86651),v=r(16485);let y=(0,m.A)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);var g=r(57828);let j=(0,m.A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var b=r(75426);let N=(0,m.A)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);var w=r(52619),A=r.n(w),k=r(97533),C=r(30926);let R=(0,C.createServerReference)("40c8cd3705d618548afb3e3bc0c26623ab279b4c76",C.callServer,void 0,C.findSourceMapURL,"publishEvent"),M=(0,C.createServerReference)("40cd49e978148f4f1c8b1118625e54c3cf690ba812",C.callServer,void 0,C.findSourceMapURL,"duplicateEvent");var E=r(18720),_=r(20063);let S={published:"bg-green-100 text-green-700 border-green-200",draft:"bg-yellow-100 text-yellow-700 border-yellow-200",cancelled:"bg-red-100 text-red-700 border-red-200"},T={published:u.A,draft:f,cancelled:p.A};function z(e){let{initialEvents:t,eventCounts:r}=e,m=(0,_.useRouter)(),[f,p]=(0,s.useState)(""),[w,C]=(0,s.useState)("all"),[z,U]=(0,s.useState)("all"),L=t.filter(e=>{var t,r,a;let s=!f||e.title.toLowerCase().includes(f.toLowerCase())||(null==(t=e.description)?void 0:t.toLowerCase().includes(f.toLowerCase())),n="all"===w||e.status===w,l="all"===z||(null==(r=e.campus)?void 0:r.includes(z))||(null==(a=e.campus)?void 0:a.includes("all"));return s&&n&&l}),P=async(e,t)=>{if(!confirm('Are you sure you want to delete "'.concat(t,'"?')))return;let r=await (0,k.S)(e);r.error?E.o.error(r.error):(E.o.success("Event deleted successfully"),m.refresh())},O=async e=>{let t=await R(e);t.error?E.o.error(t.error):(E.o.success("Event published successfully"),m.refresh())},Z=async e=>{let t=await M(e);if(t.error)E.o.error(t.error);else{var r;E.o.success("Event duplicated successfully"),m.push("/admin/events/".concat(null==(r=t.data)?void 0:r.id,"/edit"))}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsx)(n.Zp,{children:(0,a.jsxs)(n.aR,{className:"pb-3",children:[(0,a.jsx)(n.BT,{children:"Total Events"}),(0,a.jsx)(n.ZB,{className:"text-3xl",children:r.all})]})}),(0,a.jsx)(n.Zp,{children:(0,a.jsxs)(n.aR,{className:"pb-3",children:[(0,a.jsx)(n.BT,{children:"Published"}),(0,a.jsx)(n.ZB,{className:"text-3xl text-green-600",children:r.published})]})}),(0,a.jsx)(n.Zp,{children:(0,a.jsxs)(n.aR,{className:"pb-3",children:[(0,a.jsx)(n.BT,{children:"Drafts"}),(0,a.jsx)(n.ZB,{className:"text-3xl text-yellow-600",children:r.draft})]})}),(0,a.jsx)(n.Zp,{children:(0,a.jsxs)(n.aR,{className:"pb-3",children:[(0,a.jsx)(n.BT,{children:"Cancelled"}),(0,a.jsx)(n.ZB,{className:"text-3xl text-red-600",children:r.cancelled})]})})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.ZB,{children:"All Events"}),(0,a.jsx)(n.BT,{children:"Manage and organize your events"})]}),(0,a.jsx)(d.$,{asChild:!0,children:(0,a.jsxs)(A(),{href:"/admin/events/create",children:[(0,a.jsx)(x.A,{className:"w-4 h-4 mr-2"}),"Create Event"]})})]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(h.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,a.jsx)(i.p,{placeholder:"Search events...",value:f,onChange:e=>p(e.target.value),className:"pl-9"})]}),(0,a.jsxs)(o.l6,{value:w,onValueChange:C,children:[(0,a.jsx)(o.bq,{children:(0,a.jsx)(o.yv,{placeholder:"Filter by status"})}),(0,a.jsxs)(o.gC,{children:[(0,a.jsx)(o.eb,{value:"all",children:"All Status"}),(0,a.jsx)(o.eb,{value:"published",children:"Published"}),(0,a.jsx)(o.eb,{value:"draft",children:"Draft"}),(0,a.jsx)(o.eb,{value:"cancelled",children:"Cancelled"})]})]}),(0,a.jsxs)(o.l6,{value:z,onValueChange:U,children:[(0,a.jsx)(o.bq,{children:(0,a.jsx)(o.yv,{placeholder:"Filter by campus"})}),(0,a.jsxs)(o.gC,{children:[(0,a.jsx)(o.eb,{value:"all",children:"All Campuses"}),(0,a.jsx)(o.eb,{value:"preschool",children:"Preschool"}),(0,a.jsx)(o.eb,{value:"elementary",children:"Elementary"}),(0,a.jsx)(o.eb,{value:"middle-high",children:"Middle & High School"})]})]})]})})]}),(0,a.jsx)("div",{className:"space-y-4",children:0===L.length?(0,a.jsx)(n.Zp,{children:(0,a.jsxs)(n.Wu,{className:"py-12 text-center",children:[(0,a.jsx)(v.A,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"No events found matching your filters."})]})}):L.map(e=>{var t,r,s;let i=T[e.status||"draft"],o=(null==(r=e.event_rsvps)||null==(t=r[0])?void 0:t.count)||0;return(0,a.jsx)(n.Zp,{className:"hover:shadow-md transition-shadow",children:(0,a.jsx)(n.Wu,{className:"p-6",children:(0,a.jsx)("div",{className:"flex items-start justify-between gap-4",children:(0,a.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-2",children:e.title}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 mb-2",children:[(0,a.jsxs)(l.E,{variant:"outline",className:S[e.status||"draft"],children:[(0,a.jsx)(i,{className:"w-3 h-3 mr-1"}),e.status]}),null==(s=e.campus)?void 0:s.map(e=>(0,a.jsx)(l.E,{variant:"secondary",children:e},e)),e.event_type&&(0,a.jsx)(l.E,{variant:"outline",children:e.event_type})]})]}),(0,a.jsxs)(c.rI,{children:[(0,a.jsx)(c.ty,{asChild:!0,children:(0,a.jsx)(d.$,{variant:"ghost",size:"icon",children:(0,a.jsx)(y,{className:"w-4 h-4"})})}),(0,a.jsxs)(c.SQ,{align:"end",children:[(0,a.jsx)(c.lp,{children:"Actions"}),(0,a.jsx)(c.mB,{}),(0,a.jsx)(c._2,{asChild:!0,children:(0,a.jsxs)(A(),{href:"/calendar/".concat(e.id),children:[(0,a.jsx)(g.A,{className:"w-4 h-4 mr-2"}),"View"]})}),(0,a.jsx)(c._2,{asChild:!0,children:(0,a.jsxs)(A(),{href:"/admin/events/".concat(e.id,"/edit"),children:[(0,a.jsx)(j,{className:"w-4 h-4 mr-2"}),"Edit"]})}),(0,a.jsxs)(c._2,{onClick:()=>Z(e.id),children:[(0,a.jsx)(b.A,{className:"w-4 h-4 mr-2"}),"Duplicate"]}),"draft"===e.status&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.mB,{}),(0,a.jsxs)(c._2,{onClick:()=>O(e.id),children:[(0,a.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Publish"]})]}),(0,a.jsx)(c.mB,{}),(0,a.jsxs)(c._2,{className:"text-destructive",onClick:()=>P(e.id,e.title),children:[(0,a.jsx)(N,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]}),e.description&&(0,a.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.description}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(v.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:new Date(e.event_date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),e.max_attendees&&(0,a.jsxs)("div",{children:[e.current_attendees||0," / ",e.max_attendees," attendees"]}),o>0&&(0,a.jsxs)("div",{className:"text-green-600 font-medium",children:[o," RSVPs"]})]})]})})})},e.id)})})]})}},76842:(e,t,r)=>{"use strict";r.d(t,{C:()=>l});var a=r(12115),s=r(94446),n=r(4129),l=e=>{let{present:t,children:r}=e,l=function(e){var t,r;let[s,l]=a.useState(),i=a.useRef(null),o=a.useRef(e),c=a.useRef("none"),[u,m]=(t=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},a.useReducer((e,t)=>{let a=r[e][t];return null!=a?a:e},t));return a.useEffect(()=>{let e=d(i.current);c.current="mounted"===u?e:"none"},[u]),(0,n.N)(()=>{let t=i.current,r=o.current;if(r!==e){let a=c.current,s=d(t);e?m("MOUNT"):"none"===s||(null==t?void 0:t.display)==="none"?m("UNMOUNT"):r&&a!==s?m("ANIMATION_OUT"):m("UNMOUNT"),o.current=e}},[e,m]),(0,n.N)(()=>{if(s){var e;let t,r=null!=(e=s.ownerDocument.defaultView)?e:window,a=e=>{let a=d(i.current).includes(CSS.escape(e.animationName));if(e.target===s&&a&&(m("ANIMATION_END"),!o.current)){let e=s.style.animationFillMode;s.style.animationFillMode="forwards",t=r.setTimeout(()=>{"forwards"===s.style.animationFillMode&&(s.style.animationFillMode=e)})}},n=e=>{e.target===s&&(c.current=d(i.current))};return s.addEventListener("animationstart",n),s.addEventListener("animationcancel",a),s.addEventListener("animationend",a),()=>{r.clearTimeout(t),s.removeEventListener("animationstart",n),s.removeEventListener("animationcancel",a),s.removeEventListener("animationend",a)}}m("ANIMATION_END")},[s,m]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:a.useCallback(e=>{i.current=e?getComputedStyle(e):null,l(e)},[])}}(t),i="function"==typeof r?r({present:l.isPresent}):a.Children.only(r),o=(0,s.s)(l.ref,function(e){var t,r;let a=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,s=a&&"isReactWarning"in a&&a.isReactWarning;return s?e.ref:(s=(a=null==(r=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:r.get)&&"isReactWarning"in a&&a.isReactWarning)?e.props.ref:e.props.ref||e.ref}(i));return"function"==typeof r||l.isPresent?a.cloneElement(i,{ref:o}):null};function d(e){return(null==e?void 0:e.animationName)||"none"}l.displayName="Presence"},78874:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},86651:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},86928:(e,t,r)=>{Promise.resolve().then(r.bind(r,76684))},86948:(e,t,r)=>{"use strict";r.d(t,{BT:()=>o,Wu:()=>c,ZB:()=>i,Zp:()=>l,aR:()=>d,wL:()=>u});var a=r(95155),s=r(12115),n=r(64269);let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...s})});l.displayName="Card";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...s})});d.displayName="CardHeader";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight",r),...s})});i.displayName="CardTitle";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...s})});o.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...s})});c.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...s})});u.displayName="CardFooter"},97533:(e,t,r)=>{"use strict";r.d(t,{S:()=>s});var a=r(30926);let s=(0,a.createServerReference)("40a9574ffa402246f05352c65eff2cee8ad016d6ea",a.callServer,void 0,a.findSourceMapURL,"deleteEvent")}},e=>{e.O(0,[4909,2619,3529,8720,2659,9065,5639,8441,1255,7358],()=>e(e.s=86928)),_N_E=e.O()}]);