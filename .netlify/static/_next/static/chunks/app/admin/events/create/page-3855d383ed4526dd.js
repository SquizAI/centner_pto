(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[355],{10489:(e,t,a)=>{"use strict";a.d(t,{b:()=>i});var s=a(12115),r=a(97602),l=a(95155),n=s.forwardRef((e,t)=>(0,l.jsx)(r.sG.label,{...e,ref:t,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null==(a=e.onMouseDown)||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var i=n},20063:(e,t,a)=>{"use strict";var s=a(47260);a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},30926:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{callServer:function(){return s.callServer},createServerReference:function(){return l.createServerReference},findSourceMapURL:function(){return r.findSourceMapURL}});let s=a(41209),r=a(85153),l=a(77197)},35299:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},42529:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},44945:(e,t,a)=>{"use strict";a.d(t,{EventFormClient:()=>y});var s=a(95155),r=a(12115),l=a(20063),n=a(86948),i=a(3998),c=a(65142),d=a(76444),o=a(31120),h=a(11186),u=a(30926);let p=(0,u.createServerReference)("407e3c808409b9c3c7299d8366c245a97074abc50d",u.callServer,void 0,u.findSourceMapURL,"createEvent");var m=a(18720),x=a(46046),v=a(57828),j=a(16082),g=a(70764);function y(){let e=(0,l.useRouter)(),[t,a]=(0,r.useState)(!1),[u,y]=(0,r.useState)({title:"",description:"",event_date:"",end_date:"",location:"",campus:"all",image_url:"",max_attendees:"",event_type:"",status:"draft",external_ticket_url:""}),f=async function(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.preventDefault(),a(!0);let r={title:u.title,description:u.description||void 0,event_date:u.event_date,end_date:u.end_date||void 0,location:u.location||void 0,campus:u.campus,image_url:u.image_url||void 0,max_attendees:u.max_attendees?parseInt(u.max_attendees):void 0,status:s?"draft":u.status,rsvp_required:!1,external_ticket_url:u.external_ticket_url||void 0},l=await p(r);l.error?(m.o.error(l.error),a(!1)):(m.o.success(s?"Event saved as draft":"Event created successfully"),e.push("/admin/events"))},b=(e,t)=>{y(a=>({...a,[e]:t}))};return(0,s.jsxs)("form",{onSubmit:e=>f(e,!1),className:"space-y-6",children:[(0,s.jsxs)(n.Zp,{children:[(0,s.jsxs)(n.aR,{children:[(0,s.jsx)(n.ZB,{children:"Basic Information"}),(0,s.jsx)(n.BT,{children:"Essential details about the event"})]}),(0,s.jsxs)(n.Wu,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.J,{htmlFor:"title",children:"Event Title *"}),(0,s.jsx)(c.p,{id:"title",placeholder:"e.g., Fall Festival 2024",value:u.title,onChange:e=>b("title",e.target.value),required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(d.J,{htmlFor:"description",children:"Description"}),(0,s.jsx)(j.Y,{onApply:e=>b("description",e),contentType:"event",currentContent:u.description,context:{title:u.title,campus:[u.campus],eventType:u.event_type}})]}),(0,s.jsx)(o.T,{id:"description",placeholder:"Describe the event...",value:u.description,onChange:e=>b("description",e.target.value),rows:5})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.J,{htmlFor:"event_date",children:"Event Date *"}),(0,s.jsx)(c.p,{id:"event_date",type:"date",value:u.event_date,onChange:e=>b("event_date",e.target.value),required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.J,{htmlFor:"end_date",children:"End Date (Optional)"}),(0,s.jsx)(c.p,{id:"end_date",type:"date",value:u.end_date,onChange:e=>b("end_date",e.target.value)})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.J,{htmlFor:"location",children:"Location"}),(0,s.jsx)(c.p,{id:"location",placeholder:"e.g., Main Campus Auditorium",value:u.location,onChange:e=>b("location",e.target.value)})]})]})]}),(0,s.jsxs)(n.Zp,{children:[(0,s.jsxs)(n.aR,{children:[(0,s.jsx)(n.ZB,{children:"Event Details"}),(0,s.jsx)(n.BT,{children:"Additional information and settings"})]}),(0,s.jsxs)(n.Wu,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.J,{htmlFor:"campus",children:"Campus *"}),(0,s.jsxs)(h.l6,{value:u.campus,onValueChange:e=>b("campus",e),children:[(0,s.jsx)(h.bq,{children:(0,s.jsx)(h.yv,{placeholder:"Select campus"})}),(0,s.jsxs)(h.gC,{children:[(0,s.jsx)(h.eb,{value:"all",children:"All Campuses"}),(0,s.jsx)(h.eb,{value:"preschool",children:"Preschool"}),(0,s.jsx)(h.eb,{value:"elementary",children:"Elementary"}),(0,s.jsx)(h.eb,{value:"middle-high",children:"Middle & High School"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.J,{htmlFor:"event_type",children:"Event Type"}),(0,s.jsx)(c.p,{id:"event_type",placeholder:"e.g., Fundraiser, Social, Meeting",value:u.event_type,onChange:e=>b("event_type",e.target.value)})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.J,{htmlFor:"max_attendees",children:"Max Attendees"}),(0,s.jsx)(c.p,{id:"max_attendees",type:"number",min:"1",placeholder:"Leave empty for unlimited",value:u.max_attendees,onChange:e=>b("max_attendees",e.target.value)})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(d.J,{htmlFor:"image_url",children:"Event Image URL"}),(0,s.jsx)(g.u,{})]}),(0,s.jsx)(c.p,{id:"image_url",type:"url",placeholder:"https://example.com/image.jpg",value:u.image_url,onChange:e=>b("image_url",e.target.value)}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Paste a URL to an event image (recommended: 1200x630px). Use AI Image Prompt for generating images with DALL-E or similar services."})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.J,{htmlFor:"external_ticket_url",children:"External Ticket Sales Link (Optional)"}),(0,s.jsx)(c.p,{id:"external_ticket_url",type:"url",placeholder:"https://eventbrite.com/your-event or https://ticketmaster.com/...",value:u.external_ticket_url,onChange:e=>b("external_ticket_url",e.target.value)}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Add a link to external ticket sales platforms like Eventbrite, Ticketmaster, or other ticketing services."})]})]})]}),(0,s.jsxs)(n.Zp,{children:[(0,s.jsxs)(n.aR,{children:[(0,s.jsx)(n.ZB,{children:"Publishing Options"}),(0,s.jsx)(n.BT,{children:"Control when and how the event is published"})]}),(0,s.jsx)(n.Wu,{className:"space-y-4",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.J,{htmlFor:"status",children:"Status"}),(0,s.jsxs)(h.l6,{value:u.status,onValueChange:e=>b("status",e),children:[(0,s.jsx)(h.bq,{children:(0,s.jsx)(h.yv,{placeholder:"Select status"})}),(0,s.jsxs)(h.gC,{children:[(0,s.jsx)(h.eb,{value:"draft",children:"Draft"}),(0,s.jsx)(h.eb,{value:"published",children:"Published"}),(0,s.jsx)(h.eb,{value:"cancelled",children:"Cancelled"})]})]})]})})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,s.jsx)(i.$,{type:"button",variant:"outline",onClick:()=>e.back(),disabled:t,className:"sm:order-1",children:"Cancel"}),(0,s.jsxs)(i.$,{type:"button",variant:"secondary",onClick:e=>f(e,!0),disabled:t,className:"sm:order-2",children:[(0,s.jsx)(x.A,{className:"w-4 h-4 mr-2"}),"Save as Draft"]}),(0,s.jsx)(i.$,{type:"submit",disabled:t,className:"sm:order-3 sm:ml-auto",children:"published"===u.status?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v.A,{className:"w-4 h-4 mr-2"}),"Create & Publish"]}):"Create Event"})]})]})}},46046:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},48933:(e,t,a)=>{Promise.resolve().then(a.bind(a,44945))},57828:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},70764:(e,t,a)=>{"use strict";a.d(t,{u:()=>g});var s=a(95155),r=a(12115),l=a(3998),n=a(51834),i=a(65142),c=a(76444),d=a(31120),o=a(11186),h=a(87855),u=a(35299),p=a(42529),m=a(75426),x=a(30926);let v=(0,x.createServerReference)("408fa95c0c10c0b61a9bc770ef9676e84557b96977",x.callServer,void 0,x.findSourceMapURL,"generateImagePromptAction");var j=a(18720);function g(e){let{onPromptGenerated:t}=e,[a,x]=(0,r.useState)(!1),[g,y]=(0,r.useState)(!1),[f,b]=(0,r.useState)(""),[_,k]=(0,r.useState)("professional"),[N,C]=(0,r.useState)(""),[A,w]=(0,r.useState)(""),[S,M]=(0,r.useState)(!1),P=async()=>{if(!f.trim())return void j.o.error("Please enter a subject for the image");y(!0);try{let e=await v({subject:f,style:_,context:N||void 0});e.success&&e.prompt?(w(e.prompt),t&&t(e.prompt),j.o.success("Image prompt generated!")):j.o.error(e.error||"Failed to generate image prompt")}catch(e){console.error("Error generating image prompt:",e),j.o.error("An unexpected error occurred")}finally{y(!1)}},F=async()=>{A&&(await navigator.clipboard.writeText(A),M(!0),j.o.success("Prompt copied to clipboard!"),setTimeout(()=>M(!1),2e3))};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l.$,{type:"button",variant:"outline",size:"sm",onClick:()=>x(!0),className:"gap-2",children:[(0,s.jsx)(h.A,{className:"h-4 w-4"}),"AI Image Prompt"]}),(0,s.jsx)(n.lG,{open:a,onOpenChange:x,children:(0,s.jsxs)(n.Cf,{className:"sm:max-w-[600px]",children:[(0,s.jsxs)(n.c7,{children:[(0,s.jsxs)(n.L3,{className:"flex items-center gap-2",children:[(0,s.jsx)(h.A,{className:"h-5 w-5 text-primary"}),"AI Image Prompt Generator"]}),(0,s.jsx)(n.rr,{children:"Generate a detailed prompt for image generation services like DALL-E or Midjourney"})]}),(0,s.jsxs)("div",{className:"space-y-4 py-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(c.J,{htmlFor:"subject",children:["Image Subject ",(0,s.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,s.jsx)(i.p,{id:"subject",placeholder:"e.g., Children participating in a science fair",value:f,onChange:e=>b(e.target.value)})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.J,{children:"Image Style"}),(0,s.jsxs)(o.l6,{value:_,onValueChange:e=>k(e),children:[(0,s.jsx)(o.bq,{children:(0,s.jsx)(o.yv,{})}),(0,s.jsxs)(o.gC,{children:[(0,s.jsx)(o.eb,{value:"professional",children:"Professional"}),(0,s.jsx)(o.eb,{value:"fun",children:"Fun & Playful"}),(0,s.jsx)(o.eb,{value:"educational",children:"Educational"}),(0,s.jsx)(o.eb,{value:"festive",children:"Festive & Celebratory"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.J,{htmlFor:"context",children:"Additional Context (Optional)"}),(0,s.jsx)(d.T,{id:"context",placeholder:"e.g., For a school event announcement, should show diversity and inclusivity",value:N,onChange:e=>C(e.target.value),rows:3})]}),!A&&(0,s.jsx)(l.$,{onClick:P,disabled:g,className:"w-full",children:g?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Generating Prompt..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.A,{className:"mr-2 h-4 w-4"}),"Generate Image Prompt"]})}),A&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(c.J,{children:"Generated Prompt"}),(0,s.jsx)(l.$,{type:"button",variant:"ghost",size:"sm",onClick:F,className:"gap-2",children:S?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p.A,{className:"h-4 w-4 text-green-600"}),"Copied!"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.A,{className:"h-4 w-4"}),"Copy"]})})]}),(0,s.jsx)("div",{className:"rounded-md border p-4 bg-muted/50",children:(0,s.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:A})}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Use this prompt with DALL-E, Midjourney, or other AI image generation services"})]})]}),(0,s.jsxs)(n.Es,{children:[A&&(0,s.jsxs)(l.$,{type:"button",variant:"outline",onClick:P,children:[(0,s.jsx)(h.A,{className:"mr-2 h-4 w-4"}),"Generate New Prompt"]}),(0,s.jsx)(l.$,{type:"button",onClick:()=>{x(!1),b(""),C(""),w(""),M(!1)},children:"Close"})]})]})})]})}},75426:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},87855:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]])},89559:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},95740:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])}},e=>{e.O(0,[4909,3529,8720,2659,1691,9065,9996,8441,1255,7358],()=>e(e.s=48933)),_N_E=e.O()}]);