(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5159],{16485:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(71847).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},27602:(e,t,r)=>{"use strict";r.d(t,{VolunteerClientWrapper:()=>v});var n=r(95155),o=r(12115),l=r(18720),s=r(71314),u=r(82192),a=r(39781),i=r(92118),c=r(88901),d=r(30926);let p=(0,d.createServerReference)("005d9fbd495820fa25b0054af5e6882f810ea6cbee",d.callServer,void 0,d.findSourceMapURL,"getCurrentUser"),f=(0,d.createServerReference)("60d63ce59bed97639876501addcd7be5348189aff3",d.callServer,void 0,d.findSourceMapURL,"signupForOpportunity");function v(e){let{opportunities:t}=e,[r,d]=(0,o.useState)({campus:null,dateRange:"upcoming"}),[v,h]=(0,o.useState)(null),[m,g]=(0,o.useState)(!1),w=(0,o.useMemo)(()=>{let e=[...t];return r.campus&&"all"!==r.campus&&(e=e.filter(e=>e.campus===r.campus||"all"===e.campus)),[...e=function(e,t){let{start:r,end:n}=function(e){let t=new Date;switch(t.setHours(0,0,0,0),e){case"upcoming":default:return{start:t,end:null};case"this-week":return{start:(0,u.k)(t,{weekStartsOn:0}),end:function(e,t){var r,n,o,l,s,u,c,d;let p=(0,a.q)(),f=null!=(d=null!=(c=null!=(u=null!=(s=null==t?void 0:t.weekStartsOn)?s:null==t||null==(n=t.locale)||null==(r=n.options)?void 0:r.weekStartsOn)?u:p.weekStartsOn)?c:null==(l=p.locale)||null==(o=l.options)?void 0:o.weekStartsOn)?d:0,v=(0,i.a)(e,null==t?void 0:t.in),h=v.getDay();return v.setDate(v.getDate()+((h<f?-7:0)+6-(h-f))),v.setHours(23,59,59,999),v}(t,{weekStartsOn:0})};case"this-month":return{start:function(e,t){let r=(0,i.a)(e,void 0);return r.setDate(1),r.setHours(0,0,0,0),r}(t),end:(0,c.p)(t)};case"all":return{start:new Date("2000-01-01"),end:null}}}(t);return e.filter(e=>{let t=new Date(e.date);return(t.setHours(0,0,0,0),n)?t>=r&&t<=n:t>=r})}(e,r.dateRange)].sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime())},[t,r]),y=async e=>{if(!await p())return void l.o.error("Please log in to sign up for volunteer opportunities",{action:{label:"Log In",onClick:()=>{window.location.href="/auth/login?redirectTo=/volunteer"}}});let t=new Date(e.date),r=new Date;return(r.setHours(0,0,0,0),t<r)?void l.o.error("This opportunity has already passed"):e.current_signups>=e.max_volunteers?void l.o.error("This opportunity is fully booked"):void(h(e),g(!0))},S=async(e,t)=>{let r=await f(e,t);if(!r.success)throw Error(r.error||"Failed to sign up")};return(0,n.jsxs)("div",{className:"space-y-8",children:[(0,n.jsx)(s.X0,{filters:r,onFilterChange:e=>{d(e)}}),w.length>0?(0,n.jsx)(s.Ve,{opportunities:w,onSignUp:y,columns:3}):(0,n.jsxs)("div",{className:"text-center py-16 bg-muted/30 rounded-lg",children:[(0,n.jsx)("p",{className:"text-muted-foreground text-lg mb-2",children:"No volunteer opportunities found"}),(0,n.jsx)("p",{className:"text-muted-foreground text-sm",children:"Try adjusting your filters or check back later for new opportunities."})]}),v&&(0,n.jsx)(s.H0,{opportunity:v,isOpen:m,onClose:()=>{g(!1),h(null)},onSuccess:()=>{l.o.success("Successfully signed up for volunteer opportunity!",{description:'Check "My Shifts" to view your upcoming commitments.',action:{label:"View My Shifts",onClick:()=>{window.location.href="/volunteer/my-shifts"}}}),g(!1),h(null),window.location.reload()},onSubmit:S})]})}},30926:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{callServer:function(){return n.callServer},createServerReference:function(){return l.createServerReference},findSourceMapURL:function(){return o.findSourceMapURL}});let n=r(41209),o=r(85153),l=r(77197)},35299:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(71847).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},54536:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,52619,23)),Promise.resolve().then(r.bind(r,27602))},71314:(e,t,r)=>{"use strict";r.d(t,{Eg:()=>s.MyVolunteerShifts,H0:()=>l.SignupForm,Ve:()=>n.VolunteerGrid,X0:()=>o.VolunteerFilter}),r(13208);var n=r(3878),o=r(8884),l=r(5682),s=r(575)},88901:(e,t,r)=>{"use strict";r.d(t,{p:()=>o});var n=r(92118);function o(e,t){let r=(0,n.a)(e,null==t?void 0:t.in),o=r.getMonth();return r.setFullYear(r.getFullYear(),o+1,0),r.setHours(23,59,59,999),r}}},e=>{e.O(0,[4909,2619,1733,3529,8720,1691,42,892,3522,8441,1255,7358],()=>e(e.s=54536)),_N_E=e.O()}]);