(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5663],{518:(e,t,s)=>{Promise.resolve().then(s.bind(s,52054))},6191:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(71847).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},10489:(e,t,s)=>{"use strict";s.d(t,{b:()=>n});var r=s(12115),a=s(97602),i=s(95155),l=r.forwardRef((e,t)=>(0,i.jsx)(a.sG.label,{...e,ref:t,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||(null==(s=e.onMouseDown)||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var n=l},11647:(e,t,s)=>{"use strict";s.d(t,{E:()=>n});var r=s(95155);s(12115);var a=s(83101),i=s(64269);let l=(0,a.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:t,variant:s,...a}=e;return(0,r.jsx)("div",{className:(0,i.cn)(l({variant:s}),t),...a})}},21190:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(71847).A)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])},21873:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(71847).A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},23664:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(71847).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},26983:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(71847).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},30926:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{callServer:function(){return r.callServer},createServerReference:function(){return i.createServerReference},findSourceMapURL:function(){return a.findSourceMapURL}});let r=s(41209),a=s(85153),i=s(77197)},35626:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(71847).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},52054:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>A});var r=s(95155),a=s(12115),i=s(96648),l=s(3998),n=s(65142),c=s(76444),d=s(31120),o=s(86948),u=s(11186),m=s(11647),p=s(18720),h=s(35626),x=s(6191),v=s(21190),j=s(71360),y=s(16485),g=s(26983),f=s(21873),N=s(23664),_=s(91169),b=s(16082),w=s(52619),k=s.n(w);function A(){let e=(0,i.U)(),[t,s]=(0,a.useState)(!1),[w,A]=(0,a.useState)([]),[C,M]=(0,a.useState)(null),[q,S]=(0,a.useState)(!1),[I,F]=(0,a.useState)({title:"",description:"",date:"",start_time:"",end_time:"",location:"",campus:"all",max_volunteers:"",requirements:"",contact_email:"",status:"active"});(0,a.useEffect)(()=>{J()},[]);let J=async()=>{try{let{data:t,error:s}=await e.from("volunteer_opportunities").select("*").order("date",{ascending:!0});if(s)throw s;A(t||[])}catch(e){console.error("Error loading opportunities:",e),p.o.error("Failed to load volunteer opportunities")}},E=(e,t)=>{F(s=>({...s,[e]:t}))},L=async t=>{t.preventDefault(),s(!0);try{let{data:{user:t},error:s}=await e.auth.getUser();if(s||!t)return void p.o.error("You must be logged in to manage volunteer opportunities");let r={title:I.title,description:I.description,date:I.date,start_time:I.start_time,end_time:I.end_time,location:I.location,campus:I.campus,max_volunteers:parseInt(I.max_volunteers),requirements:I.requirements||null,contact_email:I.contact_email,status:I.status,created_by:t.id};if(C){let{error:t}=await e.from("volunteer_opportunities").update(r).eq("id",C.id);if(t)throw t;p.o.success("Opportunity updated successfully!")}else{let{error:t}=await e.from("volunteer_opportunities").insert([r]);if(t)throw t;p.o.success("Opportunity created successfully!")}R(),J()}catch(e){console.error("Error saving opportunity:",e),p.o.error(e instanceof Error?e.message:"Failed to save opportunity")}finally{s(!1)}},O=async t=>{if(confirm("Are you sure you want to delete this volunteer opportunity?"))try{let{error:s}=await e.from("volunteer_opportunities").delete().eq("id",t);if(s)throw s;p.o.success("Opportunity deleted successfully"),J()}catch(e){console.error("Error deleting opportunity:",e),p.o.error("Failed to delete opportunity")}},R=()=>{M(null),F({title:"",description:"",date:"",start_time:"",end_time:"",location:"",campus:"all",max_volunteers:"",requirements:"",contact_email:"",status:"active"}),S(!1)};return q?(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[(0,r.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:C?"Edit Opportunity":"Create New Opportunity"}),(0,r.jsxs)(l.$,{variant:"outline",onClick:R,children:[(0,r.jsx)(h.A,{className:"w-4 h-4 mr-2"}),"Back to List"]})]}),(0,r.jsxs)("form",{onSubmit:L,className:"space-y-6",children:[(0,r.jsxs)(o.Zp,{children:[(0,r.jsxs)(o.aR,{children:[(0,r.jsx)(o.ZB,{children:"Basic Information"}),(0,r.jsx)(o.BT,{children:"Essential opportunity details"})]}),(0,r.jsxs)(o.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(c.J,{htmlFor:"title",children:"Opportunity Title *"}),(0,r.jsx)(n.p,{id:"title",value:I.title,onChange:e=>E("title",e.target.value),placeholder:"e.g., Book Fair Volunteer",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)(c.J,{htmlFor:"description",children:"Description *"}),(0,r.jsx)(b.Y,{onApply:e=>E("description",e),contentType:"volunteer",currentContent:I.description,context:{title:I.title,campus:[I.campus]}})]}),(0,r.jsx)(d.T,{id:"description",value:I.description,onChange:e=>E("description",e.target.value),placeholder:"Describe what volunteers will do...",rows:4,required:!0})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(c.J,{htmlFor:"campus",children:"Campus *"}),(0,r.jsxs)(u.l6,{value:I.campus,onValueChange:e=>E("campus",e),children:[(0,r.jsx)(u.bq,{children:(0,r.jsx)(u.yv,{})}),(0,r.jsxs)(u.gC,{children:[(0,r.jsx)(u.eb,{value:"all",children:"All Campuses"}),(0,r.jsx)(u.eb,{value:"preschool",children:"Preschool"}),(0,r.jsx)(u.eb,{value:"elementary",children:"Elementary"}),(0,r.jsx)(u.eb,{value:"middle-high",children:"Middle & High School"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c.J,{htmlFor:"status",children:"Status *"}),(0,r.jsxs)(u.l6,{value:I.status,onValueChange:e=>E("status",e),children:[(0,r.jsx)(u.bq,{children:(0,r.jsx)(u.yv,{})}),(0,r.jsxs)(u.gC,{children:[(0,r.jsx)(u.eb,{value:"active",children:"Active"}),(0,r.jsx)(u.eb,{value:"completed",children:"Completed"}),(0,r.jsx)(u.eb,{value:"cancelled",children:"Cancelled"})]})]})]})]})]})]}),(0,r.jsxs)(o.Zp,{children:[(0,r.jsx)(o.aR,{children:(0,r.jsxs)(o.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(y.A,{className:"w-5 h-5"}),"Date, Time & Location"]})}),(0,r.jsxs)(o.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(c.J,{htmlFor:"date",children:"Date *"}),(0,r.jsx)(n.p,{id:"date",type:"date",value:I.date,onChange:e=>E("date",e.target.value),required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c.J,{htmlFor:"start_time",children:"Start Time *"}),(0,r.jsx)(n.p,{id:"start_time",type:"time",value:I.start_time,onChange:e=>E("start_time",e.target.value),required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c.J,{htmlFor:"end_time",children:"End Time *"}),(0,r.jsx)(n.p,{id:"end_time",type:"time",value:I.end_time,onChange:e=>E("end_time",e.target.value),required:!0})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c.J,{htmlFor:"location",children:"Location *"}),(0,r.jsx)(n.p,{id:"location",value:I.location,onChange:e=>E("location",e.target.value),placeholder:"e.g., School Library",required:!0})]})]})]}),(0,r.jsxs)(o.Zp,{children:[(0,r.jsx)(o.aR,{children:(0,r.jsxs)(o.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(_.A,{className:"w-5 h-5"}),"Volunteer Details"]})}),(0,r.jsxs)(o.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(c.J,{htmlFor:"max_volunteers",children:"Maximum Volunteers *"}),(0,r.jsx)(n.p,{id:"max_volunteers",type:"number",min:"1",value:I.max_volunteers,onChange:e=>E("max_volunteers",e.target.value),placeholder:"e.g., 10",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c.J,{htmlFor:"contact_email",children:"Contact Email *"}),(0,r.jsx)(n.p,{id:"contact_email",type:"email",value:I.contact_email,onChange:e=>E("contact_email",e.target.value),placeholder:"coordinator@example.com",required:!0})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)(c.J,{htmlFor:"requirements",children:"Requirements/Skills Needed"}),(0,r.jsx)(b.Y,{onApply:e=>E("requirements",e),contentType:"volunteer",currentContent:I.requirements,context:{title:I.title,description:I.description,campus:[I.campus]}})]}),(0,r.jsx)(d.T,{id:"requirements",value:I.requirements,onChange:e=>E("requirements",e.target.value),placeholder:"Any special skills, certifications, or requirements...",rows:3})]})]})]}),(0,r.jsxs)("div",{className:"flex gap-4 justify-end",children:[(0,r.jsx)(l.$,{type:"button",variant:"outline",onClick:R,children:"Cancel"}),(0,r.jsx)(l.$,{type:"submit",disabled:t,children:t?"Saving...":C?"Update Opportunity":"Create Opportunity"})]})]})]}):(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Manage Volunteer Opportunities"}),(0,r.jsx)("p",{className:"text-muted-foreground mt-1",children:"Create and manage volunteer opportunities"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(k(),{href:"/admin",children:(0,r.jsxs)(l.$,{variant:"outline",children:[(0,r.jsx)(h.A,{className:"w-4 h-4 mr-2"}),"Back to Admin"]})}),(0,r.jsxs)(l.$,{onClick:()=>S(!0),children:[(0,r.jsx)(x.A,{className:"w-4 h-4 mr-2"}),"Create Opportunity"]})]})]}),0===w.length?(0,r.jsx)(o.Zp,{children:(0,r.jsx)(o.Wu,{className:"py-8 text-center",children:(0,r.jsx)("p",{className:"text-muted-foreground",children:"No volunteer opportunities yet. Create your first one!"})})}):(0,r.jsx)("div",{className:"grid gap-4",children:w.map(e=>(0,r.jsx)(o.Zp,{children:(0,r.jsx)(o.Wu,{className:"p-6",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-semibold",children:e.title}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.description})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(l.$,{variant:"outline",size:"sm",onClick:()=>{M(e),F({title:e.title,description:e.description,date:e.date,start_time:e.start_time,end_time:e.end_time,location:e.location,campus:e.campus,max_volunteers:e.max_volunteers.toString(),requirements:e.requirements||"",contact_email:e.contact_email,status:e.status}),S(!0)},children:(0,r.jsx)(v.A,{className:"w-4 h-4"})}),(0,r.jsx)(l.$,{variant:"destructive",size:"sm",onClick:()=>O(e.id),children:(0,r.jsx)(j.A,{className:"w-4 h-4"})})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(y.A,{className:"w-4 h-4 text-muted-foreground"}),(0,r.jsx)("span",{children:new Date(e.date).toLocaleDateString()})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(g.A,{className:"w-4 h-4 text-muted-foreground"}),(0,r.jsxs)("span",{children:[e.start_time," - ",e.end_time]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(f.A,{className:"w-4 h-4 text-muted-foreground"}),(0,r.jsx)("span",{children:e.location})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(N.A,{className:"w-4 h-4 text-muted-foreground"}),(0,r.jsx)("span",{className:"truncate",children:e.contact_email})]})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 items-center",children:[(0,r.jsx)(m.E,{variant:"outline",children:e.campus}),(0,r.jsx)(m.E,{className:(e=>{switch(e){case"active":return"bg-green-100 text-green-700";case"cancelled":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}})(e.status),children:e.status}),(0,r.jsxs)("div",{className:"flex items-center gap-1 text-sm",children:[(0,r.jsx)(_.A,{className:"w-4 h-4 text-muted-foreground"}),(0,r.jsx)("span",{className:"font-medium",children:e.current_signups}),(0,r.jsxs)("span",{className:"text-muted-foreground",children:["/ ",e.max_volunteers," volunteers"]})]}),e.current_signups>=e.max_volunteers&&(0,r.jsx)(m.E,{variant:"destructive",children:"Full"})]}),e.requirements&&(0,r.jsx)("div",{className:"pt-2 border-t",children:(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(0,r.jsx)("strong",{children:"Requirements:"})," ",e.requirements]})})]})})},e.id))})]})}},71360:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(71847).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},89559:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(71847).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},91169:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(71847).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},95740:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(71847).A)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},96648:(e,t,s)=>{"use strict";s.d(t,{U:()=>a});var r=s(88727);function a(){return(0,r.createBrowserClient)("https://whtwuisrljgjtpzbyhfp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndodHd1aXNybGpnanRwemJ5aGZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA0NzgzMjAsImV4cCI6MjA3NjA1NDMyMH0.U_D-Zv0Qpev9_QIBRRRidzAGffpHVIpaIeGZhu_gKDw")}}},e=>{e.O(0,[4909,2619,3529,8720,2659,1691,9065,6825,9996,8441,1255,7358],()=>e(e.s=518)),_N_E=e.O()}]);