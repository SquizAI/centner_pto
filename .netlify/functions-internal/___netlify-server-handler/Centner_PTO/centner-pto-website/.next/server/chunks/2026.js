"use strict";exports.id=2026,exports.ids=[2026],exports.modules={4468:(a,b,c)=>{c.r(b),c.d(b,{default:()=>i});var d=c(75338),e=c(67480),f=c(62159),g=c(19149),h=c(18489);function i(){return(0,d.jsx)("div",{className:"min-h-screen bg-background",children:(0,d.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,d.jsx)("div",{className:"mb-8",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Events Calendar"}),(0,d.jsx)("p",{className:"text-muted-foreground",children:"Upcoming events across all campuses"})]})}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,d.jsx)("div",{className:"lg:col-span-2",children:(0,d.jsxs)(e.Zp,{className:"shadow-xl border-0",children:[(0,d.jsx)(e.aR,{children:(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(e.ZB,{className:"text-xl sm:text-2xl",children:"Calendar"}),(0,d.jsx)(e.BT,{className:"text-sm",children:"View events by month, week, or day"})]}),(0,d.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,d.jsx)(g.E,{className:"bg-[hsl(var(--preschool))] text-white text-xs",children:"Preschool"}),(0,d.jsx)(g.E,{className:"bg-[hsl(var(--elementary))] text-white text-xs",children:"Elementary"}),(0,d.jsx)(g.E,{className:"bg-[hsl(var(--middle-high))] text-white text-xs",children:"Middle/High"})]})]})}),(0,d.jsx)(e.Wu,{children:(0,d.jsx)("div",{className:"h-[500px] sm:h-[550px] lg:h-[650px] flex items-center justify-center",children:(0,d.jsxs)("div",{className:"text-center space-y-4",children:[(0,d.jsx)(f.E,{className:"h-12 w-12 rounded-full mx-auto"}),(0,d.jsx)(f.E,{className:"h-4 w-32 mx-auto"})]})})})]})}),(0,d.jsx)("div",{className:"space-y-6",children:(0,d.jsxs)(e.Zp,{className:"shadow-xl border-0",children:[(0,d.jsxs)(e.aR,{children:[(0,d.jsxs)(e.ZB,{className:"flex items-center gap-2",children:[(0,d.jsx)(h.A,{className:"w-5 h-5 text-primary"}),"Upcoming Events"]}),(0,d.jsx)(e.BT,{children:"Click on the calendar to view details"})]}),(0,d.jsx)(e.Wu,{children:(0,d.jsx)("div",{className:"space-y-4",children:Array.from({length:5}).map((a,b)=>(0,d.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,d.jsx)(f.E,{className:"h-5 w-3/4"}),(0,d.jsx)(f.E,{className:"h-5 w-16"})]}),(0,d.jsx)(f.E,{className:"h-4 w-1/2 mb-2"}),(0,d.jsx)(f.E,{className:"h-3 w-2/3"})]},b))})})]})})]})]})})}},18310:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},19149:(a,b,c)=>{c.d(b,{E:()=>h});var d=c(75338);c(74515);var e=c(86281),f=c(70673);let g=(0,e.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function h({className:a,variant:b,...c}){return(0,d.jsx)("div",{className:(0,f.cn)(g({variant:b}),a),...c})}},23978:(a,b,c)=>{c.d(b,{A:()=>n});var d=c(21124),e=c(38301),f=c(40068),g=c(35284),h=c(93758),i=c(68120),j=c(29737),k=c(18310),l=c(14263),m=c(42830);function n({event:a,open:b,onOpenChange:c}){let[n,o]=(0,e.useState)(1),[p,q]=(0,e.useState)(""),[r,s]=(0,e.useState)(""),[t,u]=(0,e.useState)(""),[v,w]=(0,e.useState)(!1),[x,y]=(0,e.useState)(null),z=(a.ticket_quantity||0)-(a.tickets_sold||0),A=a.ticket_price||0,B=A*n,C=async b=>{b.preventDefault(),y(null),w(!0);try{if(!p||!r){y("Please fill in all required fields"),w(!1);return}if(n>z){y(`Only ${z} tickets available`),w(!1);return}let b=await fetch("/api/checkout/create-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({eventId:a.id,quantity:n,buyerName:p,buyerEmail:r,buyerPhone:t})}),c=await b.json();if(!b.ok)throw Error(c.error||"Failed to create checkout session");if(c.url)window.location.href=c.url;else throw Error("No checkout URL returned")}catch(a){console.error("Checkout error:",a),y(a instanceof Error?a.message:"Failed to process checkout"),w(!1),m.o.error("Failed to create checkout session")}},D=new Date,E=a.ticket_sales_start?new Date(a.ticket_sales_start):null,F=a.ticket_sales_end?new Date(a.ticket_sales_end):null,G=E&&E>D,H=F&&F<D,I=z<=0;return(0,d.jsx)(f.lG,{open:b,onOpenChange:c,children:(0,d.jsxs)(f.Cf,{className:"sm:max-w-md",children:[(0,d.jsxs)(f.c7,{children:[(0,d.jsxs)(f.L3,{className:"flex items-center gap-2",children:[(0,d.jsx)(j.A,{className:"w-5 h-5"}),"Purchase Tickets"]}),(0,d.jsx)(f.rr,{children:a.title})]}),G&&(0,d.jsxs)("div",{className:"flex items-start gap-2 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,d.jsx)(k.A,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),(0,d.jsxs)("div",{className:"text-sm text-yellow-800",children:["Ticket sales open on ",E?.toLocaleDateString()," at ",E?.toLocaleTimeString()]})]}),H&&(0,d.jsxs)("div",{className:"flex items-start gap-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[(0,d.jsx)(k.A,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),(0,d.jsx)("div",{className:"text-sm text-red-800",children:"Ticket sales have ended"})]}),I&&!H&&(0,d.jsxs)("div",{className:"flex items-start gap-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[(0,d.jsx)(k.A,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),(0,d.jsx)("div",{className:"text-sm text-red-800",children:"This event is sold out"})]}),!G&&!H&&!I&&(0,d.jsxs)("form",{onSubmit:C,className:"space-y-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Available tickets:"}),(0,d.jsx)("span",{className:"font-semibold",children:z})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Price per ticket:"}),(0,d.jsxs)("span",{className:"font-semibold",children:["$",A.toFixed(2)]})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(i.J,{htmlFor:"quantity",children:"Quantity"}),(0,d.jsx)(h.p,{id:"quantity",type:"number",min:"1",max:z,value:n,onChange:a=>o(parseInt(a.target.value)||1),required:!0})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(i.J,{htmlFor:"buyerName",children:"Full Name *"}),(0,d.jsx)(h.p,{id:"buyerName",type:"text",value:p,onChange:a=>q(a.target.value),placeholder:"John Doe",required:!0})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(i.J,{htmlFor:"buyerEmail",children:"Email *"}),(0,d.jsx)(h.p,{id:"buyerEmail",type:"email",value:r,onChange:a=>s(a.target.value),placeholder:"john@example.com",required:!0})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(i.J,{htmlFor:"buyerPhone",children:"Phone (Optional)"}),(0,d.jsx)(h.p,{id:"buyerPhone",type:"tel",value:t,onChange:a=>u(a.target.value),placeholder:"+1 (555) 123-4567"})]}),x&&(0,d.jsxs)("div",{className:"flex items-start gap-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[(0,d.jsx)(k.A,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),(0,d.jsx)("div",{className:"text-sm text-red-800",children:x})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t",children:[(0,d.jsx)("span",{className:"text-lg font-semibold",children:"Total:"}),(0,d.jsxs)("span",{className:"text-2xl font-bold text-primary",children:["$",B.toFixed(2)]})]}),(0,d.jsx)(g.$,{type:"submit",className:"w-full",size:"lg",disabled:v,children:v?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(j.A,{className:"w-4 h-4 mr-2"}),"Continue to Payment"]})}),(0,d.jsx)("p",{className:"text-xs text-center text-muted-foreground",children:"You'll be redirected to Stripe for secure payment processing"})]})]})})}},29737:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]])},55388:(a,b,c)=>{c.d(b,{A:()=>p});var d=c(21124),e=c(38301),f=c(40068),g=c(35284),h=c(93758),i=c(68120),j=c(68254),k=c(63091),l=c(18310),m=c(14263);c(20814);var n=c(56361),o=c(42830);function p({event:a,open:b,onOpenChange:c,onSuccess:p}){let[q,r]=(0,e.useState)(""),[s,t]=(0,e.useState)(""),[u,v]=(0,e.useState)(1),[w,x]=(0,e.useState)(0),[y,z]=(0,e.useState)(""),[A,B]=(0,e.useState)(!1),[C,D]=(0,e.useState)(null),E=async b=>{b.preventDefault(),D(null),B(!0);try{if(!q||!s){D("Please fill in all required fields"),B(!1);return}if(u+w<1){D("At least one guest is required"),B(!1);return}let b=await (0,n.M)({event_id:a.id,parent_name:q,parent_email:s,num_adults:u,num_children:w,notes:y||null});b.success?(o.o.success("RSVP submitted successfully!"),c(!1),p?.(),r(""),t(""),v(1),x(0),z("")):(D(b.error||"Failed to submit RSVP"),o.o.error(b.error||"Failed to submit RSVP"))}catch(a){console.error("RSVP error:",a),D(a instanceof Error?a.message:"Failed to submit RSVP"),o.o.error("Failed to submit RSVP")}finally{B(!1)}},F=u+w;return(0,d.jsx)(f.lG,{open:b,onOpenChange:c,children:(0,d.jsxs)(f.Cf,{className:"sm:max-w-md",children:[(0,d.jsxs)(f.c7,{children:[(0,d.jsxs)(f.L3,{className:"flex items-center gap-2",children:[(0,d.jsx)(k.A,{className:"w-5 h-5"}),"RSVP to Event"]}),(0,d.jsx)(f.rr,{children:a.title})]}),(0,d.jsxs)("form",{onSubmit:E,className:"space-y-4",children:[a.max_attendees&&(0,d.jsxs)("div",{className:"flex items-center justify-between text-sm p-2 bg-muted/50 rounded-lg",children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Event capacity:"}),(0,d.jsxs)("span",{className:"font-semibold",children:[a.max_attendees," people"]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(i.J,{htmlFor:"parentName",children:"Full Name *"}),(0,d.jsx)(h.p,{id:"parentName",type:"text",value:q,onChange:a=>r(a.target.value),placeholder:"John Doe",required:!0})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(i.J,{htmlFor:"parentEmail",children:"Email *"}),(0,d.jsx)(h.p,{id:"parentEmail",type:"email",value:s,onChange:a=>t(a.target.value),placeholder:"john@example.com",required:!0}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"You'll receive a confirmation email"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(i.J,{htmlFor:"numAdults",children:"Adults"}),(0,d.jsx)(h.p,{id:"numAdults",type:"number",min:"0",value:u,onChange:a=>v(parseInt(a.target.value)||0),required:!0})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(i.J,{htmlFor:"numChildren",children:"Children"}),(0,d.jsx)(h.p,{id:"numChildren",type:"number",min:"0",value:w,onChange:a=>x(parseInt(a.target.value)||0),required:!0})]})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between text-sm p-2 bg-primary/5 rounded-lg",children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Total guests:"}),(0,d.jsx)("span",{className:"font-semibold text-primary",children:F})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(i.J,{htmlFor:"notes",children:"Additional Notes (Optional)"}),(0,d.jsx)(j.T,{id:"notes",value:y,onChange:a=>z(a.target.value),placeholder:"Any dietary restrictions, special needs, or questions...",rows:3})]}),C&&(0,d.jsxs)("div",{className:"flex items-start gap-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[(0,d.jsx)(l.A,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),(0,d.jsx)("div",{className:"text-sm text-red-800",children:C})]}),(0,d.jsx)(g.$,{type:"submit",className:"w-full",size:"lg",disabled:A,children:A?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(m.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(k.A,{className:"w-4 h-4 mr-2"}),"Confirm RSVP"]})}),a.requires_approval&&(0,d.jsx)("p",{className:"text-xs text-center text-muted-foreground",children:"Your RSVP will be reviewed and you'll receive a confirmation email"})]})]})})}},63091:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]])}};