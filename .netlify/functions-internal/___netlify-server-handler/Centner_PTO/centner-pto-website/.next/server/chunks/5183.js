"use strict";exports.id=5183,exports.ids=[5183],exports.modules={11024:(a,b,c)=>{c.d(b,{b3:()=>j,hn:()=>k,Lz:()=>m,U6:()=>l});var d=c(91488);c(27806);let e=new(c(77677)).ij(process.env.GEMINI_API_KEY||"");async function f(a){try{if(console.log("[Gemini Service] Starting content generation"),console.log("[Gemini Service] API Key present:",!!process.env.GEMINI_API_KEY),console.log("[Gemini Service] API Key length:",process.env.GEMINI_API_KEY?.length||0),!process.env.GEMINI_API_KEY)throw Error("GEMINI_API_KEY environment variable is not set");let b=e.getGenerativeModel({model:"gemini-2.5-flash"});console.log("[Gemini Service] Model initialized");let c=function(a){let b=`You are a helpful assistant for Centner Academy PTO (Parent Teacher Organization).
Centner Academy is a private school in Miami with three campuses: Preschool, Elementary, and Middle/High School.
Your task is to help create engaging, professional content for the PTO website.`,c={event:`Focus on creating compelling event descriptions that will encourage parent participation.
Include key details like date, time, location, and what attendees can expect.`,news:`Create informative and engaging news articles for the school community.
Maintain a professional yet warm tone that speaks to parents and families.`,volunteer:`Create inspiring volunteer opportunity descriptions that motivate parents to get involved.
Highlight the impact and benefits of volunteering.`,general:"Create clear, engaging content appropriate for a school PTO website."};return`${b}

${c[a.type]}`}(a),d=a.prompt||function(a){let{context:b,length:c="medium",type:d}=a,e=`Generate ${{short:"2-3 sentences",medium:"1-2 paragraphs",long:"3-4 paragraphs"}[c]} of content for a ${d}.`;return b?.title&&(e+=`
Title: ${b.title}`),b?.description&&(e+=`
Initial description: ${b.description}`),b?.campus&&b.campus.length>0&&(e+=`
Campus: ${b.campus.join(", ")}`),b?.eventType&&(e+=`
Event type: ${b.eventType}`),b?.targetAudience&&(e+=`
Target audience: ${b.targetAudience}`),e}(a);console.log("[Gemini Service] Prompts built, calling API...");let f=await b.generateContent(`${c}

${d}`);console.log("[Gemini Service] API call completed");let g=(await f.response).text();return console.log("[Gemini Service] Response text extracted, length:",g.length),g}catch(a){throw console.error("[Gemini Service] Error generating content:",a),console.error("[Gemini Service] Error details:",{message:a instanceof Error?a.message:"Unknown error",stack:a instanceof Error?a.stack:void 0}),Error("Failed to generate content. Please try again.")}}async function g(a){try{let b=e.getGenerativeModel({model:"gemini-2.5-flash"}),c=`Create a detailed image generation prompt for the following:
Subject: ${a.subject}
Style: ${a.style||"professional"}
${a.context?`Context: ${a.context}`:""}

Generate a detailed, descriptive prompt that could be used with an image generation AI like DALL-E or Midjourney.
The prompt should be specific about:
- Visual style and composition
- Color palette
- Mood and atmosphere
- Key elements to include
- Any specific details that make it suitable for a school PTO website

Return only the image prompt, nothing else.`,d=await b.generateContent(c);return(await d.response).text().trim()}catch(a){throw console.error("Error generating image prompt:",a),Error("Failed to generate image prompt. Please try again.")}}async function h(a,b="Make this more engaging and professional"){try{let c=e.getGenerativeModel({model:"gemini-2.5-flash"}),d=`${b}

Original content:
${a}

Improved content:`,f=await c.generateContent(d);return(await f.response).text()}catch(a){throw console.error("Error improving content:",a),Error("Failed to improve content. Please try again.")}}async function i(a,b,c="friendly"){try{let d=e.getGenerativeModel({model:"gemini-2.5-flash"}),f=`Create an engaging ${{instagram:"Instagram post (2200 character limit, casual and visual)",facebook:"Facebook post (no strict limit, can be more detailed)",both:"social media post suitable for both Instagram and Facebook"}[b]} from this content:

${a}

Tone: ${c}
Target audience: Parents and families at Centner Academy

Return a JSON object with:
{
  "caption": "the post caption text",
  "hashtags": ["relevant", "hashtags", "array"]
}

Include relevant hashtags for a private school PTO in Miami.`,g=await d.generateContent(f),h=(await g.response).text().match(/\{[\s\S]*\}/);if(h)return JSON.parse(h[0]);throw Error("Invalid response format")}catch(a){throw console.error("Error generating social post:",a),Error("Failed to generate social media post. Please try again.")}}async function j(a){try{let b=await f(a);return{success:!0,content:b}}catch(a){return console.error("Error in generateContentAction:",a),{success:!1,error:a instanceof Error?a.message:"Failed to generate content"}}}async function k(a){try{let b=await g(a);return{success:!0,prompt:b}}catch(a){return console.error("Error in generateImagePromptAction:",a),{success:!1,error:a instanceof Error?a.message:"Failed to generate image prompt"}}}async function l(a,b){try{let c=await h(a,b);return{success:!0,content:c}}catch(a){return console.error("Error in improveContentAction:",a),{success:!1,error:a instanceof Error?a.message:"Failed to improve content"}}}async function m(a,b,c){try{let d=await i(a,b,c);return{success:!0,post:d}}catch(a){return console.error("Error in generateSocialPostAction:",a),{success:!1,error:a instanceof Error?a.message:"Failed to generate social post"}}}(0,c(40410).D)([j,k,l,m]),(0,d.A)(j,"405417bb53468af696fd2f4cd0234b0b26426071e6",null),(0,d.A)(k,"408fa95c0c10c0b61a9bc770ef9676e84557b96977",null),(0,d.A)(l,"60a0d969c6bbf9289e5347d5b063f26160a40d1a63",null),(0,d.A)(m,"701d298aeda98d64a9ffac31f8bb45d8cb51a7a68b",null)},40068:(a,b,c)=>{c.d(b,{Cf:()=>m,Es:()=>o,L3:()=>p,c7:()=>n,lG:()=>i,rr:()=>q,zM:()=>j});var d=c(21124),e=c(38301),f=c(39641),g=c(47089),h=c(44943);let i=f.bL,j=f.l9,k=f.ZL;f.bm;let l=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.hJ,{ref:c,className:(0,h.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...b}));l.displayName=f.hJ.displayName;let m=e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsxs)(k,{children:[(0,d.jsx)(l,{}),(0,d.jsxs)(f.UC,{ref:e,className:(0,h.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...c,children:[b,(0,d.jsxs)(f.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,d.jsx)(g.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));m.displayName=f.UC.displayName;let n=({className:a,...b})=>(0,d.jsx)("div",{className:(0,h.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...b});n.displayName="DialogHeader";let o=({className:a,...b})=>(0,d.jsx)("div",{className:(0,h.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...b});o.displayName="DialogFooter";let p=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.hE,{ref:c,className:(0,h.cn)("text-lg font-semibold leading-none tracking-tight",a),...b}));p.displayName=f.hE.displayName;let q=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.VY,{ref:c,className:(0,h.cn)("text-sm text-muted-foreground",a),...b}));q.displayName=f.VY.displayName},45608:(a,b,c)=>{c.d(b,{bq:()=>m,eb:()=>q,gC:()=>p,l6:()=>k,yv:()=>l});var d=c(21124),e=c(38301),f=c(39567),g=c(85351),h=c(82042),i=c(71613),j=c(44943);let k=f.bL;f.YJ;let l=f.WT,m=e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsxs)(f.l9,{ref:e,className:(0,j.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...c,children:[b,(0,d.jsx)(f.In,{asChild:!0,children:(0,d.jsx)(g.A,{className:"h-4 w-4 opacity-50"})})]}));m.displayName=f.l9.displayName;let n=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.PP,{ref:c,className:(0,j.cn)("flex cursor-default items-center justify-center py-1",a),...b,children:(0,d.jsx)(h.A,{className:"h-4 w-4"})}));n.displayName=f.PP.displayName;let o=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.wn,{ref:c,className:(0,j.cn)("flex cursor-default items-center justify-center py-1",a),...b,children:(0,d.jsx)(g.A,{className:"h-4 w-4"})}));o.displayName=f.wn.displayName;let p=e.forwardRef(({className:a,children:b,position:c="popper",...e},g)=>(0,d.jsx)(f.ZL,{children:(0,d.jsxs)(f.UC,{ref:g,className:(0,j.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===c&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:c,...e,children:[(0,d.jsx)(n,{}),(0,d.jsx)(f.LM,{className:(0,j.cn)("p-1","popper"===c&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:b}),(0,d.jsx)(o,{})]})}));p.displayName=f.UC.displayName,e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.JU,{ref:c,className:(0,j.cn)("px-2 py-1.5 text-sm font-semibold",a),...b})).displayName=f.JU.displayName;let q=e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsxs)(f.q7,{ref:e,className:(0,j.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...c,children:[(0,d.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,d.jsx)(f.VF,{children:(0,d.jsx)(i.A,{className:"h-4 w-4"})})}),(0,d.jsx)(f.p4,{children:b})]}));q.displayName=f.q7.displayName,e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.wv,{ref:c,className:(0,j.cn)("-mx-1 my-1 h-px bg-muted",a),...b})).displayName=f.wv.displayName},62186:(a,b,c)=>{c.d(b,{BT:()=>j,Wu:()=>k,ZB:()=>i,Zp:()=>g,aR:()=>h,wL:()=>l});var d=c(21124),e=c(38301),f=c(44943);let g=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...b}));g.displayName="Card";let h=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex flex-col space-y-1.5 p-6",a),...b}));h.displayName="CardHeader";let i=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("font-semibold leading-none tracking-tight",a),...b}));i.displayName="CardTitle";let j=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("text-sm text-muted-foreground",a),...b}));j.displayName="CardDescription";let k=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("p-6 pt-0",a),...b}));k.displayName="CardContent";let l=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex items-center p-6 pt-0",a),...b}));l.displayName="CardFooter"},68120:(a,b,c)=>{c.d(b,{J:()=>j});var d=c(21124),e=c(38301),f=c(46029),g=c(26691),h=c(44943);let i=(0,g.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),j=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.b,{ref:c,className:(0,h.cn)(i(),a),...b}));j.displayName=f.b.displayName},68254:(a,b,c)=>{c.d(b,{T:()=>g});var d=c(21124),e=c(38301),f=c(44943);let g=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("textarea",{className:(0,f.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:c,...b}));g.displayName="Textarea"},71172:(a,b,c)=>{c.d(b,{Y:()=>r});var d=c(21124),e=c(38301),f=c(35284),g=c(40068),h=c(68120),i=c(68254),j=c(45608),k=c(75234),l=c(14263),m=c(25345),n=c(85708);let o=(0,n.createServerReference)("60a0d969c6bbf9289e5347d5b063f26160a40d1a63",n.callServer,void 0,n.findSourceMapURL,"improveContentAction"),p=(0,n.createServerReference)("405417bb53468af696fd2f4cd0234b0b26426071e6",n.callServer,void 0,n.findSourceMapURL,"generateContentAction");var q=c(42830);function r({onApply:a,contentType:b,currentContent:c,context:n}){let[r,s]=(0,e.useState)(!1),[t,u]=(0,e.useState)(!1),[v,w]=(0,e.useState)(""),[x,y]=(0,e.useState)(""),[z,A]=(0,e.useState)("medium"),[B,C]=(0,e.useState)("generate"),D=async()=>{u(!0);try{let a;(a="improve"===B&&c?await o(c,x||"Make this more engaging and professional"):await p({type:b,context:n,prompt:x||void 0,length:z})).success&&a.content?(w(a.content),q.o.success("Content generated successfully!")):q.o.error(a.error||"Failed to generate content")}catch(a){console.error("Error generating content:",a),q.o.error("An unexpected error occurred")}finally{u(!1)}};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(f.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{C(c?"improve":"generate"),s(!0)},className:"gap-2",children:[(0,d.jsx)(k.A,{className:"h-4 w-4"}),c?"Improve with AI":"Generate with AI"]}),(0,d.jsx)(g.lG,{open:r,onOpenChange:s,children:(0,d.jsxs)(g.Cf,{className:"sm:max-w-[600px]",children:[(0,d.jsxs)(g.c7,{children:[(0,d.jsxs)(g.L3,{className:"flex items-center gap-2",children:[(0,d.jsx)(k.A,{className:"h-5 w-5 text-primary"}),"AI Content Assistant"]}),(0,d.jsx)(g.rr,{children:"improve"===B?"Let AI help improve your existing content":"Let AI help you create engaging content"})]}),(0,d.jsxs)("div",{className:"space-y-4 py-4",children:[c&&(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(h.J,{children:"Mode"}),(0,d.jsxs)(j.l6,{value:B,onValueChange:a=>C(a),children:[(0,d.jsx)(j.bq,{children:(0,d.jsx)(j.yv,{})}),(0,d.jsxs)(j.gC,{children:[(0,d.jsx)(j.eb,{value:"generate",children:"Generate New Content"}),(0,d.jsx)(j.eb,{value:"improve",children:"Improve Existing Content"})]})]})]}),"generate"===B&&(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(h.J,{children:"Content Length"}),(0,d.jsxs)(j.l6,{value:z,onValueChange:a=>A(a),children:[(0,d.jsx)(j.bq,{children:(0,d.jsx)(j.yv,{})}),(0,d.jsxs)(j.gC,{children:[(0,d.jsx)(j.eb,{value:"short",children:"Short (2-3 sentences)"}),(0,d.jsx)(j.eb,{value:"medium",children:"Medium (1-2 paragraphs)"}),(0,d.jsx)(j.eb,{value:"long",children:"Long (3-4 paragraphs)"})]})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)(h.J,{htmlFor:"prompt",children:["improve"===B?"Improvement Instructions":"Custom Prompt"," (Optional)"]}),(0,d.jsx)(i.T,{id:"prompt",placeholder:"improve"===B?"e.g., Make it more exciting and add a call to action":"e.g., Emphasize the educational benefits and family-friendly atmosphere",value:x,onChange:a=>y(a.target.value),rows:3})]}),!v&&(0,d.jsx)(f.$,{onClick:D,disabled:t,className:"w-full",children:t?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Generating..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(k.A,{className:"mr-2 h-4 w-4"}),"improve"===B?"Improve Content":"Generate Content"]})}),v&&(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)(h.J,{children:"Generated Content"}),(0,d.jsx)(f.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>{D()},disabled:t,children:t?(0,d.jsx)(l.A,{className:"h-4 w-4 animate-spin"}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Regenerate"]})})]}),(0,d.jsx)("div",{className:"rounded-md border p-4 bg-muted/50",children:(0,d.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:v})})]})]}),(0,d.jsxs)(g.Es,{children:[(0,d.jsx)(f.$,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),v&&(0,d.jsx)(f.$,{type:"button",onClick:()=>{v&&(a(v),s(!1),w(""),y(""),q.o.success("Content applied!"))},children:"Apply Content"})]})]})})]})}},93758:(a,b,c)=>{c.d(b,{p:()=>g});var d=c(21124),e=c(38301),f=c(44943);let g=e.forwardRef(({className:a,type:b,...c},e)=>(0,d.jsx)("input",{type:b,className:(0,f.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:e,...c}));g.displayName="Input"}};