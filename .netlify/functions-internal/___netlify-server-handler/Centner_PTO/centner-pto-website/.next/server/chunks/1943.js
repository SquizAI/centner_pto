"use strict";exports.id=1943,exports.ids=[1943],exports.modules={17442:(a,b,c)=>{c.d(b,{g:()=>x});var d=c(21124),e=c(38301),f=c(35284),g=c(40068),h=c(68120),i=c(68254),j=c(62497),k=c(99187),l=c(62186),m=c(30029),n=c(9149),o=c(31905),p=c(14263),q=c(75234),r=c(75219),s=c(18310),t=c(85708);let u=(0,t.createServerReference)("701d298aeda98d64a9ffac31f8bb45d8cb51a7a68b",t.callServer,void 0,t.findSourceMapURL,"generateSocialPostAction");var v=c(42830),w=c(24515);function x({sourceContent:a,sourceTitle:b,sourceImage:c,onPost:t}){let[x,y]=(0,e.useState)(!1),[z,A]=(0,e.useState)(!1),[B,C]=(0,e.useState)(!1),[D,E]=(0,e.useState)(""),[F,G]=(0,e.useState)([]),[H,I]=(0,e.useState)([]),[J,K]=(0,e.useState)(""),[L,M]=(0,e.useState)([]),[N,O]=(0,e.useState)([]),P=async(b="friendly")=>{A(!0);try{let c=1===H.length?H[0]:"both",d=await u(a,c,b);d.success&&d.post?(E(d.post.caption),G(d.post.hashtags),v.o.success("Post generated successfully!")):v.o.error(d.error||"Failed to generate post")}catch(a){console.error("Error generating post:",a),v.o.error("An unexpected error occurred")}finally{A(!1)}},Q=async()=>{if(!D.trim())return void v.o.error("Please enter a caption");if(0===H.length)return void v.o.error("Please select at least one platform");C(!0);let a=[];for(let b of H)a.push({platform:b,status:"pending"});O(a),await new Promise(a=>setTimeout(a,2e3)),O(a.map(a=>({...a,status:"success",message:"Posted successfully"}))),C(!1),t&&t({success:!0,platforms:H}),v.o.success(`Posted to ${H.join(" and ")}!`),setTimeout(()=>{y(!1),R()},2e3)},R=()=>{E(""),G([]),I([]),K(""),O([])},S=a=>{I(b=>b.includes(a)?b.filter(b=>b!==a):[...b,a])},T=L.filter(a=>a.connected),U=D+(F.length>0?"\n\n"+F.map(a=>`#${a}`).join(" "):"");return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(f.$,{variant:"default",onClick:()=>y(!0),className:"gap-2",disabled:0===T.length,children:[(0,d.jsx)(m.A,{className:"h-4 w-4"}),"Post to Social Media"]}),(0,d.jsx)(g.lG,{open:x,onOpenChange:y,children:(0,d.jsxs)(g.Cf,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto",children:[(0,d.jsxs)(g.c7,{children:[(0,d.jsxs)(g.L3,{className:"flex items-center gap-2",children:[(0,d.jsx)(m.A,{className:"h-5 w-5 text-primary"}),"Post to Social Media"]}),(0,d.jsx)(g.rr,{children:b&&`Share "${b}" on social media`})]}),(0,d.jsxs)("div",{className:"space-y-6 py-4",children:[(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)(h.J,{children:"Select Platforms"}),(0,d.jsx)("div",{className:"grid grid-cols-2 gap-3",children:T.map(a=>(0,d.jsx)(l.Zp,{className:`p-4 cursor-pointer transition-all ${H.includes(a.id)?"ring-2 ring-primary bg-primary/5":"hover:bg-muted"}`,onClick:()=>S(a.id),children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(j.S,{checked:H.includes(a.id),onCheckedChange:()=>S(a.id)}),"instagram"===a.platform?(0,d.jsx)(n.A,{className:"h-5 w-5 text-pink-600"}):(0,d.jsx)(o.A,{className:"h-5 w-5 text-blue-600"}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("p",{className:"font-medium capitalize",children:a.platform}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:a.username})]})]})},a.id))})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(h.J,{children:"Generate with AI"}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsxs)(f.$,{type:"button",variant:"outline",size:"sm",onClick:()=>P("friendly"),disabled:z,children:[z?(0,d.jsx)(p.A,{className:"h-4 w-4 animate-spin mr-2"}):(0,d.jsx)(q.A,{className:"h-4 w-4 mr-2"}),"Friendly"]}),(0,d.jsx)(f.$,{type:"button",variant:"outline",size:"sm",onClick:()=>P("professional"),disabled:z,children:"Professional"}),(0,d.jsx)(f.$,{type:"button",variant:"outline",size:"sm",onClick:()=>P("excited"),disabled:z,children:"Excited"})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(h.J,{htmlFor:"caption",children:"Caption"}),(0,d.jsx)(i.T,{id:"caption",value:D,onChange:a=>E(a.target.value),placeholder:"Write your caption...",rows:6,className:"resize-none"}),(0,d.jsxs)("p",{className:"text-xs text-muted-foreground",children:[D.length," characters",H.includes("instagram")&&D.length>2200&&(0,d.jsx)("span",{className:"text-destructive ml-2",children:"(Instagram limit: 2200 characters)"})]})]}),F.length>0&&(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(h.J,{children:"Hashtags"}),(0,d.jsx)("div",{className:"flex flex-wrap gap-2",children:F.map(a=>(0,d.jsxs)(k.E,{variant:"secondary",children:["#",a]},a))})]}),c&&(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(h.J,{children:"Image"}),(0,d.jsx)("div",{className:"relative w-full aspect-video rounded-lg overflow-hidden border",children:(0,d.jsx)(w.default,{src:c,alt:"Post image",fill:!0,className:"object-cover"})})]}),D&&(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(h.J,{children:"Preview"}),(0,d.jsx)(l.Zp,{className:"p-4 bg-muted/50",children:(0,d.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:U})})]}),N.length>0&&(0,d.jsx)("div",{className:"space-y-2",children:N.map(a=>(0,d.jsxs)("div",{className:"flex items-center gap-2 p-2 rounded-md bg-muted",children:["pending"===a.status&&(0,d.jsx)(p.A,{className:"h-4 w-4 animate-spin text-muted-foreground"}),"success"===a.status&&(0,d.jsx)(r.A,{className:"h-4 w-4 text-green-600"}),"error"===a.status&&(0,d.jsx)(s.A,{className:"h-4 w-4 text-destructive"}),(0,d.jsx)("span",{className:"text-sm capitalize",children:a.platform}),a.message&&(0,d.jsx)("span",{className:"text-xs text-muted-foreground ml-auto",children:a.message})]},a.platform))})]}),(0,d.jsxs)(g.Es,{children:[(0,d.jsx)(f.$,{type:"button",variant:"outline",onClick:()=>y(!1),children:"Cancel"}),(0,d.jsx)(f.$,{type:"button",onClick:Q,disabled:B||!D.trim()||0===H.length,children:B?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(p.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Posting..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Post Now"]})})]})]})})]})}},18310:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},40284:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},62497:(a,b,c)=>{c.d(b,{S:()=>E});var d=c(21124),e=c(38301),f=c(92808),g=c(2332),h=c(87868),i=c(11720),j=c(10350),k=c(96386),l=c(29988),m=c(6406),n="Checkbox",[o,p]=(0,g.A)(n),[q,r]=o(n);function s(a){let{__scopeCheckbox:b,checked:c,children:f,defaultChecked:g,disabled:h,form:j,name:k,onCheckedChange:l,required:m,value:o="on",internal_do_not_use_render:p}=a,[r,s]=(0,i.i)({prop:c,defaultProp:g??!1,onChange:l,caller:n}),[t,u]=e.useState(null),[v,w]=e.useState(null),x=e.useRef(!1),y=!t||!!j||!!t.closest("form"),z={checked:r,disabled:h,setChecked:s,control:t,setControl:u,name:k,form:j,value:o,hasConsumerStoppedPropagationRef:x,required:m,defaultChecked:!A(g)&&g,isFormControl:y,bubbleInput:v,setBubbleInput:w};return(0,d.jsx)(q,{scope:b,...z,children:"function"==typeof p?p(z):f})}var t="CheckboxTrigger",u=e.forwardRef(({__scopeCheckbox:a,onKeyDown:b,onClick:c,...g},i)=>{let{control:j,value:k,disabled:l,checked:n,required:o,setControl:p,setChecked:q,hasConsumerStoppedPropagationRef:s,isFormControl:u,bubbleInput:v}=r(t,a),w=(0,f.s)(i,p),x=e.useRef(n);return e.useEffect(()=>{let a=j?.form;if(a){let b=()=>q(x.current);return a.addEventListener("reset",b),()=>a.removeEventListener("reset",b)}},[j,q]),(0,d.jsx)(m.sG.button,{type:"button",role:"checkbox","aria-checked":A(n)?"mixed":n,"aria-required":o,"data-state":B(n),"data-disabled":l?"":void 0,disabled:l,value:k,...g,ref:w,onKeyDown:(0,h.mK)(b,a=>{"Enter"===a.key&&a.preventDefault()}),onClick:(0,h.mK)(c,a=>{q(a=>!!A(a)||!a),v&&u&&(s.current=a.isPropagationStopped(),s.current||a.stopPropagation())})})});u.displayName=t;var v=e.forwardRef((a,b)=>{let{__scopeCheckbox:c,name:e,checked:f,defaultChecked:g,required:h,disabled:i,value:j,onCheckedChange:k,form:l,...m}=a;return(0,d.jsx)(s,{__scopeCheckbox:c,checked:f,defaultChecked:g,disabled:i,required:h,onCheckedChange:k,name:e,form:l,value:j,internal_do_not_use_render:({isFormControl:a})=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(u,{...m,ref:b,__scopeCheckbox:c}),a&&(0,d.jsx)(z,{__scopeCheckbox:c})]})})});v.displayName=n;var w="CheckboxIndicator",x=e.forwardRef((a,b)=>{let{__scopeCheckbox:c,forceMount:e,...f}=a,g=r(w,c);return(0,d.jsx)(l.C,{present:e||A(g.checked)||!0===g.checked,children:(0,d.jsx)(m.sG.span,{"data-state":B(g.checked),"data-disabled":g.disabled?"":void 0,...f,ref:b,style:{pointerEvents:"none",...a.style}})})});x.displayName=w;var y="CheckboxBubbleInput",z=e.forwardRef(({__scopeCheckbox:a,...b},c)=>{let{control:g,hasConsumerStoppedPropagationRef:h,checked:i,defaultChecked:l,required:n,disabled:o,name:p,value:q,form:s,bubbleInput:t,setBubbleInput:u}=r(y,a),v=(0,f.s)(c,u),w=(0,j.Z)(i),x=(0,k.X)(g);e.useEffect(()=>{if(!t)return;let a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,b=!h.current;if(w!==i&&a){let c=new Event("click",{bubbles:b});t.indeterminate=A(i),a.call(t,!A(i)&&i),t.dispatchEvent(c)}},[t,w,i,h]);let z=e.useRef(!A(i)&&i);return(0,d.jsx)(m.sG.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??z.current,required:n,disabled:o,name:p,value:q,form:s,...b,tabIndex:-1,ref:v,style:{...b.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function A(a){return"indeterminate"===a}function B(a){return A(a)?"indeterminate":a?"checked":"unchecked"}z.displayName=y;var C=c(71613),D=c(44943);let E=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(v,{ref:c,className:(0,D.cn)("peer h-5 w-5 shrink-0 rounded border border-input bg-background ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary transition-colors",a),...b,children:(0,d.jsx)(x,{className:(0,D.cn)("flex items-center justify-center text-current"),children:(0,d.jsx)(C.A,{className:"h-4 w-4"})})}));E.displayName=v.displayName}};